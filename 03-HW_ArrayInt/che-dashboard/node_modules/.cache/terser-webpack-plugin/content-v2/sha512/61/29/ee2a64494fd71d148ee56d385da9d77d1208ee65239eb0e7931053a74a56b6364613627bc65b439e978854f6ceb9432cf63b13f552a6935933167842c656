{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{2968:function(e,t,a){\"use strict\";a.r(t),a.d(t,\"GetStarted\",(function(){return E}));var r=a(1),s=a.n(r),n=a(59),c=a(200),i=a(2904),o=a(2849),l=a(2834),p=a(2903),h=a(2857),d=a(332),m=a(329),u=a(23),f=a(116),b=a(113),v=a(30),w=function(e,t,a,r){var s,n=arguments.length,c=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,a):r;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)c=Reflect.decorate(e,t,a,r);else for(var i=e.length-1;i>=0;i--)(s=e[i])&&(c=(n<3?s(c):n>3?s(t,a,c):s(t,a))||c);return n>3&&c&&Object.defineProperty(t,a,c),c},y=function(e,t){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const g=s.a.lazy(()=>Promise.all([a.e(\"vendor\"),a.e(\"common\"),a.e(4)]).then(a.bind(null,2966))),k=s.a.lazy(()=>Promise.all([a.e(\"monaco\"),a.e(\"vendor\"),a.e(\"common\"),a.e(1)]).then(a.bind(null,2965)));class E extends s.a.PureComponent{constructor(e){super(e);const t=this.getActiveTabKey();this.state={activeTabKey:t}}componentDidUpdate(){const e=this.getActiveTabKey();this.state.activeTabKey!==e&&this.setState({activeTabKey:e})}getTitle(){return{\"get-started\":\"Getting Started with \"+this.props.branding.data.name,\"custom-workspace\":\"Create Custom Workspace\"}[this.state.activeTabKey]}getActiveTabKey(){const{pathname:e,search:t}=this.props.history.location;if(t){const a=new URLSearchParams(t.substring(1));if(e===v.a.GET_STARTED&&\"custom-workspace\"===a.get(\"tab\"))return\"custom-workspace\"}return\"get-started\"}async createWorkspace(e,t,a){const r=t?{stackName:t}:{};let s;try{s=await this.props.createWorkspaceFromDevfile(e,void 0,a,r)}catch(e){throw this.showAlert({key:\"new-workspace-failed\",variant:i.b.danger,title:e.message}),new Error(e.message)}const n=s.devfile.metadata.name;this.showAlert({key:\"new-workspace-success\",variant:i.b.success,title:`Workspace ${n} has been created.`});try{await this.props.startWorkspace(s),this.props.history.push(`/ide/${s.namespace}/${n}`)}catch(e){throw this.showAlert({key:\"start-workspace-failed\",variant:i.b.warning,title:`Workspace ${n} failed to start. ${e}`}),new Error(e)}}handleDevfile(e,t){return this.createWorkspace(e,t.stackName,t.infrastructureNamespace)}handleDevfileContent(e,t){try{const a=Object(c.load)(e);return this.createWorkspace(a,t.stackName,t.infrastructureNamespace)}catch(e){const t=\"Failed to parse the devfile\";throw this.showAlert({key:\"parse-devfile-failed\",variant:i.b.danger,title:t+\".\"}),new Error(t+\", \\n\"+e)}}showAlert(e){this.appAlerts.showAlert(e)}handleTabClick(e,t){this.props.history.push(`${v.a.GET_STARTED}?tab=${t}`),this.setState({activeTabKey:t})}render(){const{activeTabKey:e}=this.state,t=this.getTitle();return s.a.createElement(s.a.Fragment,null,s.a.createElement(m.a,{pageName:\"Get Started\"}),s.a.createElement(o.a,{variant:o.b.light},s.a.createElement(l.a,{headingLevel:\"h1\"},t)),s.a.createElement(o.a,{variant:o.b.light,className:\"pf-c-page-section-no-padding\",isFilled:!1},s.a.createElement(p.a,{activeKey:e,onSelect:(e,t)=>this.handleTabClick(e,t)},s.a.createElement(h.a,{eventKey:\"get-started\",title:\"Get Started\"},s.a.createElement(r.Suspense,{fallback:d.a},s.a.createElement(g,{onDevfile:(e,t)=>this.handleDevfileContent(e,{stackName:t})}))),s.a.createElement(h.a,{eventKey:\"custom-workspace\",title:\"Custom Workspace\"},s.a.createElement(r.Suspense,{fallback:d.a},s.a.createElement(k,{onDevfile:(e,t)=>this.handleDevfile(e,{infrastructureNamespace:t})}))))))}}w([Object(u.b)(f.a),y(\"design:type\",f.a)],E.prototype,\"appAlerts\",void 0);const T=Object(n.c)(e=>({branding:e.branding}),b.a);t.default=T(E)}}]);","extractedComments":[]}