{"code":"!function(e){function t(t){for(var a,o,i=t[0],c=t[1],l=t[2],u=0,d=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);for(p&&p(t);d.length;)d.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,i=1;i<n.length;i++){var c=n[i];0!==r[c]&&(a=!1)}a&&(s.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={client:0},s=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,a){n=r[e]=[t,a]}));t.push(n[2]=a);var s,i=document.createElement(\"script\");i.charset=\"utf-8\",i.timeout=120,o.nc&&i.setAttribute(\"nonce\",o.nc),i.src=function(e){return o.p+\"\"+({common:\"common\"}[e]||e)+\".\"+{0:\"8ec2ee958559365fa4d2\",1:\"d8e51a2f3292cc604068\",2:\"f4daecc79d5a41adc916\",3:\"24e08920e7edfa24250f\",4:\"fe3f160889b5c5767b69\",5:\"62ab5b929c70157caf58\",6:\"1aee645360c86fda36de\",7:\"caafca7bbc4e4f7dc263\",8:\"758da0f9588bdf436595\",common:\"aa1bea2eaab0b06ea673\"}[e]+\".js\"}(e);var c=new Error;s=function(t){i.onerror=i.onload=null,clearTimeout(l);var n=r[e];if(0!==n){if(n){var a=t&&(\"load\"===t.type?\"missing\":t.type),s=t&&t.target&&t.target.src;c.message=\"Loading chunk \"+e+\" failed.\\n(\"+a+\": \"+s+\")\",c.name=\"ChunkLoadError\",c.type=a,c.request=s,n[1](c)}r[e]=void 0}};var l=setTimeout((function(){s({type:\"timeout\",target:i})}),12e4);i.onerror=i.onload=s,document.head.appendChild(i)}return Promise.all(t)},o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,\"a\",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p=\"./\",o.oe=function(e){throw console.error(e),e};var i=window.webpackJsonp=window.webpackJsonp||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var p=c;s.push([2803,\"monaco\",\"vendor\"]),n()}({102:function(e,t,n){var a=n(5),r=n(726);\"string\"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,\"\"]]);var s={insert:\"head\",singleton:!1};a(r,s);e.exports=r.locals||{}},108:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return h}));var a=n(46),r=n(80),s=n(220),o=n(162),i=n(15),c=n(66),l=n(330),p=function(e,t,n,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(o=(s<3?r(o):s>3?r(t,n,o):r(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},u=function(e,t){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(e,t){return function(n,a){t(n,a,e)}};let h=class extends s.a{constructor(e){super(e),this.axios.defaults.baseURL=\"/api/unsupported/k8s\",this.client=o.DevWorkspaceClient.getRestApi(this.axios),this.workspaceApi=this.client.workspaceApi,this.dwtApi=this.client.templateApi,this.previousItems=new Map,this.maxStatusAttempts=10}isEnabled(){return this.client.isDevWorkspaceApiEnabled()}async getAllWorkspaces(e){await this.initializing;const t=await this.workspaceApi.listInNamespace(e),n=[];for(const e of t)Object(r.b)(e)||Object(r.d)(e)||n.push(Object(r.a)(e));return n}async getWorkspaceByName(e,t){let n=await this.workspaceApi.getByName(e,t),a=0;for(;(!n.status||!n.status.phase||!n.status.ideUrl)&&a<this.maxStatusAttempts;)n=await this.workspaceApi.getByName(e,t),this.checkForDevWorkspaceError(n),a+=1,await Object(l.a)();if(this.checkForDevWorkspaceError(n),!n.status||!n.status.phase||!n.status.ideUrl)throw new Error(`Could not retrieve devworkspace status information from ${t} in namespace ${e}`);return Object(r.a)(n)}async create(e,t){e.components||(e.components=[]);const n=await this.workspaceApi.create(e,!1),a=n.metadata.namespace;for(const e of t){const t=e.metadata.name.replaceAll(\" \",\"-\").toLowerCase(),r=n.status.workspaceId,s=await this.dwtApi.create({kind:\"DevWorkspaceTemplate\",apiVersion:\"workspace.devfile.io/v1alpha2\",metadata:{name:`${t}-${r}`,namespace:a,ownerReferences:[{apiVersion:o.devWorkspaceApiGroup,kind:o.devworkspaceSingularSubresource,name:n.metadata.name,uid:n.metadata.uid}]},spec:e});n.spec.template.components.push({name:s.metadata.name,plugin:{kubernetes:{name:s.metadata.name,namespace:s.metadata.namespace}}})}n.spec.started=!0;const s=await this.workspaceApi.update(n);return Object(r.a)(s)}delete(e,t){this.workspaceApi.delete(e,t)}async changeWorkspaceStatus(e,t,n){const a=await this.workspaceApi.changeStatus(e,t,n);return this.checkForDevWorkspaceError(a),Object(r.a)(a)}async initializeNamespace(e){try{this.initializing=new Promise((t,n)=>{this.workspaceApi.initializeNamespace(e).then(e=>{t(void 0)})}),await this.initializing}catch(e){return console.error(e),!1}return!0}subscribeToNamespace(e,t,n){setInterval(async()=>{(await this.getAllWorkspaces(e)).forEach(e=>{const a=this.createStatusUpdate(e);t({id:e.id},a)(n)})},1e3)}createStatusUpdate(e){const t=e.namespace,n=e.id,a=e.status&&\"string\"==typeof e.status?e.status.toUpperCase():i.e[i.e.STARTING],r=this.previousItems.get(t);if(r){const e=r.get(n),t={workspaceId:n,status:a,prevStatus:null==e?void 0:e.status};return r.set(n,t),t}{const e={workspaceId:n,status:a,prevStatus:a},r=new Map;return r.set(n,e),this.previousItems.set(t,r),e}}checkForDevWorkspaceError(e){var t;const n=null===(t=e.status)||void 0===t?void 0:t.phase;if(n&&n.toUpperCase()===i.a[i.a.FAILED]){if(e.status.message)throw new Error(e.status.message);throw new Error(\"Unknown error occured when trying to process the devworkspace\")}}};h=p([Object(a.injectable)(),d(0,Object(a.inject)(c.a)),u(\"design:paramtypes\",[c.a])],h)},111:function(e,t,n){var a=n(5),r=n(2392);\"string\"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,\"\"]]);var s={insert:\"head\",singleton:!1};a(r,s);e.exports=r.locals||{}},113:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return b})),n.d(t,\"b\",(function(){return k}));var a=n(23),r=n(42),s=n(15),o=n(28),i=n(80),c=n(108),l=n(51);const p=a.a.get(r.a),u=a.a.get(c.a),d=a.a.get(l.a),h=new Map,m=new Map;function f(e,t,n){let a;if(n.error){const r=new Map;r.set(e.id,[`Error: Failed to run the workspace: \"${n.error}\"`]),t({type:\"UPDATE_WORKSPACES_LOGS\",workspacesLogs:r}),a=s.e[s.e.ERROR]}else a=n.status;s.e[a]&&t({type:\"UPDATE_WORKSPACE_STATUS\",workspaceId:e.id,status:a})}function g(e,t){if(h.has(e.id))return;const n=n=>f(e,t,n);p.jsonRpcMasterApi.subscribeWorkspaceStatus(e.id,n),h.set(e.id,n)}function E(e,t){if(m.has(e))return;const n=n=>{var a;if((null===(a=n.runtimeId)||void 0===a?void 0:a.workspaceId)===e&&n.text){const a=new Map;a.set(e,n.text.split(new RegExp(\"\\\\r\\\\n|\\\\r|\\\\n\"))),t({type:\"UPDATE_WORKSPACES_LOGS\",workspacesLogs:a})}};t({type:\"DELETE_WORKSPACE_LOGS\",workspaceId:e}),p.jsonRpcMasterApi.subscribeEnvironmentOutput(e,n),m.set(e,n)}const b={updateDevWorkspaceStatus:(e,t)=>async n=>{f(e,n,t)},requestWorkspaces:()=>async(e,t)=>{e({type:\"REQUEST_WORKSPACES\"});try{const n=t(),a=await p.restApiClient.getAll(),r=await p.getDefaultNamespace();let o=a;if(\"true\"===n.workspaces.settings[\"che.devworkspaces.enabled\"]){const e=await u.getAllWorkspaces(r);o=o.concat(e)}a.forEach(t=>g(t,e)),a.forEach(t=>{g(t,e),s.e[s.e.STARTING]===t.status&&E(t.id,e)}),e({type:\"RECEIVE_WORKSPACES\",workspaces:o})}catch(t){throw e({type:\"RECEIVE_ERROR\"}),new Error(\"Failed to request workspaces: \\n\"+t)}},requestWorkspace:e=>async(t,n)=>{t({type:\"REQUEST_WORKSPACES\"});try{const a=n();let r;if(\"true\"===a.workspaces.settings[\"che.devworkspaces.enabled\"]&&Object(i.c)(e)){const t=e.namespace,n=e.devfile.metadata.name;r=await u.getWorkspaceByName(t,n)}else r=await p.restApiClient.getById(e.id);h.has(r.id)||g(r,t),r.status===s.e[s.e.STARTING]&&E(e.id,t),t({type:\"UPDATE_WORKSPACE\",workspace:r})}catch(e){t({type:\"RECEIVE_ERROR\"});const n=e.response&&e.response.data&&e.response.data.message?e.response.data.message:e.message;throw new Error(\"Failed to update. \"+n)}},requestSettings:()=>async e=>{e({type:\"REQUEST_WORKSPACES\"});try{const t=await p.restApiClient.getSettings();void 0===t[\"che.devworkspaces.enabled\"]&&(t[\"che.devworkspaces.enabled\"]=\"false\"),e({type:\"RECEIVE_SETTINGS\",settings:t})}catch(t){throw e({type:\"RECEIVE_ERROR\"}),new Error(\"Failed to fetch settings, \\n\"+t)}},startWorkspace:(e,t)=>async(n,a)=>{try{const r=a();let s;\"true\"===r.workspaces.settings[\"che.devworkspaces.enabled\"]&&Object(i.c)(e)?s=await u.changeWorkspaceStatus(e.namespace,e.devfile.metadata.name,!0):(await d.forceUpdateToken(),s=await p.restApiClient.start(e.id,t),n({type:\"DELETE_WORKSPACE_LOGS\",workspaceId:s.id}),E(e.id,n)),n({type:\"UPDATE_WORKSPACE\",workspace:s})}catch(e){throw n({type:\"RECEIVE_ERROR\"}),new Error(e.message)}},stopWorkspace:e=>async(t,n)=>{try{const t=n();\"true\"===t.workspaces.settings[\"che.devworkspaces.enabled\"]&&Object(i.c)(e)?u.changeWorkspaceStatus(e.namespace,e.devfile.metadata.name,!1):p.restApiClient.stop(e.id)}catch(n){throw t({type:\"RECEIVE_ERROR\"}),new Error(`Failed to stop the workspace, ID: ${e.id}, `+n.message)}},deleteWorkspace:e=>async(t,n)=>{var a,r,s,o;try{const a=n();if(\"true\"===a.workspaces.settings[\"che.devworkspaces.enabled\"]&&Object(i.c)(e)){const n=e.namespace,a=e.devfile.metadata.name;await u.delete(n,a),t({type:\"DELETE_WORKSPACE\",workspaceId:e.id})}else await p.restApiClient.delete(e.id),t({type:\"DELETE_WORKSPACE_LOGS\",workspaceId:e.id}),t({type:\"DELETE_WORKSPACE\",workspaceId:e.id})}catch(n){t({type:\"RECEIVE_ERROR\"});const i=(null==n?void 0:n.message)||\"\",c=(null===(a=null==n?void 0:n.response)||void 0===a?void 0:a.status)||\"\",l=(null===(r=null==n?void 0:n.response)||void 0===r?void 0:r.statusText)||\"\",p=(null===(o=null===(s=null==n?void 0:n.response)||void 0===s?void 0:s.data)||void 0===o?void 0:o.message)||\"\";let u;throw u=p||(i||(c&&l?`Response code ${c}, ${l}.`:\"Unknown error.\")),new Error(`Failed to delete the workspace, ID: ${e.id}. `+u)}},updateWorkspace:e=>async t=>{t({type:\"REQUEST_WORKSPACES\"});try{t({type:\"UPDATE_WORKSPACE\",workspace:await p.restApiClient.update(e.id,e)})}catch(e){t({type:\"RECEIVE_ERROR\"});const n=e.response&&e.response.data&&e.response.data.message?e.response.data.message:e.message;throw new Error(\"Failed to update. \"+n)}},createWorkspaceFromDevfile:(e,t,n,a={})=>async(r,s)=>{r({type:\"REQUEST_WORKSPACES\"});try{const o=s(),c={attributes:a,namespace:t,infrastructureNamespace:n};let l;if(\"true\"===o.workspaces.settings[\"che.devworkspaces.enabled\"]&&Object(i.c)(e)){const t=e;if(!t.metadata.namespace){const e=await p.getDefaultNamespace();t.metadata.namespace=e}const n=o.dwPlugins.plugins;l=await u.create(t,n)}else l=await p.restApiClient.create(e,c),g(l,r);return r({type:\"ADD_WORKSPACE\",workspace:l}),l}catch(e){throw r({type:\"RECEIVE_ERROR\"}),new Error(\"Failed to create a new workspace from the devfile: \\n\"+e.message)}},setWorkspaceQualifiedName:(e,t)=>n=>{n({type:\"SET_WORKSPACE_NAME\",namespace:e,workspaceName:t})},clearWorkspaceQualifiedName:()=>e=>{e({type:\"CLEAR_WORKSPACE_NAME\"})},setWorkspaceId:e=>t=>{t({type:\"SET_WORKSPACE_ID\",workspaceId:e})},clearWorkspaceId:()=>e=>{e({type:\"CLEAR_WORKSPACE_ID\"})},deleteWorkspaceLogs:e=>async t=>{t({type:\"SET_WORKSPACE_ID\",workspaceId:e}),t({type:\"DELETE_WORKSPACE_LOGS\",workspaceId:e})}},w={workspaces:[],settings:{},isLoading:!1,workspacesLogs:new Map,namespace:\"\",workspaceName:\"\",workspaceId:\"\",recentNumber:5},y=(e,t)=>{if(!e.size)return t;const n=new Map;return e.forEach((e,a)=>{n.set(a,((e,t)=>t?e.concat(t):e)(e,t.get(a)))}),t.forEach((e,t)=>{n.has(t)||n.set(t,e)}),n},v=(e,t)=>{const n=new Map(e.entries());return n.delete(t),n},k=(e,t)=>{if(void 0===e)return w;switch(t.type){case\"REQUEST_WORKSPACES\":return Object(o.a)(e,{isLoading:!0});case\"RECEIVE_ERROR\":return Object(o.a)(e,{isLoading:!1});case\"UPDATE_WORKSPACE\":return Object(o.a)(e,{isLoading:!1,workspaces:e.workspaces.map(e=>e.id===t.workspace.id?t.workspace:e)});case\"UPDATE_WORKSPACE_STATUS\":return Object(o.a)(e,{workspaces:e.workspaces.map(e=>(e.id===t.workspaceId&&(e.status=t.status),e))});case\"ADD_WORKSPACE\":return Object(o.a)(e,{workspaces:e.workspaces.concat([t.workspace])});case\"DELETE_WORKSPACE\":return Object(o.a)(e,{isLoading:!1,workspaces:e.workspaces.filter(e=>e.id!==t.workspaceId)});case\"RECEIVE_WORKSPACES\":return Object(o.a)(e,{isLoading:!1,workspaces:t.workspaces});case\"RECEIVE_SETTINGS\":return Object(o.a)(e,{isLoading:!1,settings:t.settings});case\"SET_WORKSPACE_NAME\":return Object(o.a)(e,{namespace:t.namespace,workspaceName:t.workspaceName});case\"CLEAR_WORKSPACE_NAME\":return Object(o.a)(e,{namespace:\"\",workspaceName:\"\"});case\"SET_WORKSPACE_ID\":return Object(o.a)(e,{workspaceId:t.workspaceId});case\"CLEAR_WORKSPACE_ID\":return Object(o.a)(e,{workspaceId:\"\"});case\"UPDATE_WORKSPACES_LOGS\":return Object(o.a)(e,{workspacesLogs:y(e.workspacesLogs,t.workspacesLogs)});case\"DELETE_WORKSPACE_LOGS\":return Object(o.a)(e,{workspacesLogs:v(e.workspacesLogs,e.workspaceId)});default:return e}}},114:function(e,t,n){\"use strict\";n.d(t,\"d\",(function(){return s})),n.d(t,\"b\",(function(){return o})),n.d(t,\"e\",(function(){return i})),n.d(t,\"c\",(function(){return c})),n.d(t,\"a\",(function(){return l})),n.d(t,\"g\",(function(){return p})),n.d(t,\"f\",(function(){return d}));var a=n(30),r=n(15);function s(e,t){const n=e.devfile.metadata.name,s=e.namespace;if(!t)return a.a.IDE_LOADER.replace(\":namespace\",s).replace(\":workspaceName\",n);const o=r.b[t];return a.a.IDE_LOADER_TAB.replace(\":namespace\",s).replace(\":workspaceName\",n).replace(\":tabId\",o)}function o(e){return e?(e=encodeURIComponent(e),a.a.LOAD_FACTORY_URL.replace(\":url\",e)):a.a.LOAD_FACTORY}function i(){return a.a.WORKSPACES}function c(e){return e?a.a.GET_STARTED_TAB.replace(\":tabId\",e):a.a.GET_STARTED}function l(e,t){const n=e.devfile.metadata.name,s=e.namespace;if(!t)return a.a.WORKSPACE_DETAILS.replace(\":namespace\",s).replace(\":workspaceName\",n);const o=r.d[t];return a.a.WORKSPACE_DETAILS_TAB.replace(\":namespace\",s).replace(\":workspaceName\",n).replace(\":tabId\",o)}function p(e,t){const n={pathname:t};return e.createHref(n)}const u=[\"state\",\"session_state\",\"code\"];function d(e,t=[]){const n=[...u,...t];if(e.search){const t=new window.URLSearchParams(e.search);n.forEach(e=>t.delete(e)),e.search=\"?\"+t.toString()}return n.forEach(t=>{const n=new RegExp(\"&\"+t+\"=[^&]+\",\"i\"),a=e.pathname.replace(n,\"\");e.pathname=a}),e}},116:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s}));n(201);var a=n(46),r=function(e,t,n,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(o=(s<3?r(o):s>3?r(t,n,o):r(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};let s=class{constructor(){this.showAlertHandlers=[],this.alerts=[]}onChange(){this.showAlertHandlers.forEach(e=>{\"function\"==typeof e&&e([...this.alerts])})}removeAlert(e){this.alerts=this.alerts.filter(t=>t.key!==e),this.onChange()}showAlert(e){this.alerts.push(e),this.onChange()}subscribe(e){this.showAlertHandlers.push(e)}unsubscribe(e){const t=this.showAlertHandlers.indexOf(e);-1!==t&&this.showAlertHandlers.splice(t,1)}unsubscribeAll(){this.showAlertHandlers=[]}};s=r([Object(a.injectable)()],s)},130:function(e,t,n){var a=n(5),r=n(721);\"string\"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,\"\"]]);var s={insert:\"head\",singleton:!1};a(r,s);e.exports=r.locals||{}},15:function(e,t,n){\"use strict\";var a,r,s,o,i;n.d(t,\"e\",(function(){return a})),n.d(t,\"a\",(function(){return r})),n.d(t,\"b\",(function(){return s})),n.d(t,\"d\",(function(){return o})),n.d(t,\"c\",(function(){return i})),function(e){e[e.RUNNING=1]=\"RUNNING\",e[e.STOPPING=2]=\"STOPPING\",e[e.STOPPED=3]=\"STOPPED\",e[e.STARTING=4]=\"STARTING\",e[e.PAUSED=5]=\"PAUSED\",e[e.ERROR=6]=\"ERROR\"}(a||(a={})),function(e){e[e.FAILED=1]=\"FAILED\"}(r||(r={})),function(e){e[e.Progress=0]=\"Progress\",e[e.Logs=1]=\"Logs\"}(s||(s={})),function(e){e[e.Overview=0]=\"Overview\",e[e.Devfile=4]=\"Devfile\",e[e.Logs=5]=\"Logs\"}(o||(o={})),function(e){e.OPEN_IDE=\"Open\",e.START_DEBUG_AND_OPEN_LOGS=\"Open in verbose mode\",e.START_IN_BACKGROUND=\"Start in background\",e.STOP_WORKSPACE=\"Stop Workspace\",e.DELETE_WORKSPACE=\"Delete Workspace\",e.ADD_PROJECT=\"Add Project\",e.ADD_CUSTOM_WORKSPACE=\"Add Workspace\"}(i||(i={}))},172:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return l})),n.d(t,\"b\",(function(){return u}));var a=n(194),r=n(28),s=n(23),o=n(42),i=n(108);const c=s.a.get(o.a),l=(s.a.get(i.a),{requestRegistriesMetadata:e=>async t=>{t({type:\"REQUEST_METADATA\"});try{const n=await Object(a.b)(e);return t({type:\"RECEIVE_METADATA\",metadata:n}),n}catch(t){throw new Error(`Failed to request registries metadata from URLs: ${e}, \\n`+t)}},requestDevfile:e=>async t=>{t({type:\"REQUEST_DEVFILE\"});try{const n=await Object(a.a)(e);return t({type:\"RECEIVE_DEVFILE\",devfile:n,url:e}),n}catch(t){throw new Error(`Failed to request a devfile from URL: ${e}, \\n`+t)}},requestJsonSchema:()=>async(e,t)=>{e({type:\"REQUEST_SCHEMA\"});try{const n=t(),a=await c.restApiClient.getDevfileSchema(\"1.0.0\");let r=a;if(\"true\"===n.workspaces.settings[\"che.devworkspaces.enabled\"]){const e=JSON.stringify(a).replaceAll(\"#/definitions\",\"#/oneOf/0/definitions\"),t=JSON.parse(e);r={oneOf:[t,await c.restApiClient.getDevfileSchema(\"2.0.0\")]}}return e({type:\"RECEIVE_SCHEMA\",schema:r}),r}catch(e){throw new Error(\"Failed to request devfile JSON schema, \\n\"+e)}},setFilter:e=>t=>{t({type:\"SET_FILTER\",value:e})},clearFilter:()=>e=>{e({type:\"CLEAR_FILTER\"})}}),p={isLoading:!1,metadata:[],devfiles:{},schema:void 0,filter:\"\"},u=(e,t)=>{if(void 0===e)return p;const n=t;switch(n.type){case\"REQUEST_METADATA\":case\"REQUEST_SCHEMA\":case\"REQUEST_DEVFILE\":return Object(r.a)(e,{isLoading:!0});case\"RECEIVE_METADATA\":return Object(r.a)(e,{isLoading:!1,metadata:n.metadata});case\"RECEIVE_DEVFILE\":return Object(r.a)(e,{isLoading:!1,devfiles:{[n.url]:{content:n.devfile}}});case\"RECEIVE_SCHEMA\":return Object(r.a)(e,{isLoading:!1,schema:n.schema});case\"SET_FILTER\":return Object(r.a)(e,{filter:n.value});case\"CLEAR_FILTER\":return Object(r.a)(e,{filter:\"\"});default:return e}}},194:function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return i})),n.d(t,\"a\",(function(){return c}));var a=n(87);const r=n.n(a).a.create();function s(e,t){return/^\\/(\\w+)/.test(e)?new URL(\".\"+e,t):new URL(e,t)}async function o(e){try{const t=new URL(\"devfiles/index.json\",e);return(await r.get(t.href)).data.map(t=>{var n,a;return t.icon=(a=e,!(n=t).icon||n.icon.startsWith(\"http\")?n.icon:s(n.icon,a).href),t.links.self=function(e,t){return e.links.self.startsWith(\"http\")?e.links.self:s(e.links.self,t).href}(t,e),t})}catch(t){throw new Error(`Failed to fetch devfiles metadata from registry URL: ${e},`+t)}}async function i(e){const t=e.split(/\\s+/);try{const e=t.map(e=>\"/\"===e[e.length-1]?e:e+\"/\").map(async e=>{try{return await o(e)}catch(e){return console.error(e),[]}});return(await Promise.all(e)).reduce((e,t)=>e.concat(t),[])}catch(e){throw new Error(e)}}async function c(e){try{return(await r.get(e)).data}catch(t){throw new Error(`Failed to fetch a devfile from URL: ${e},`+t)}}},220:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return p}));var a=n(46),r=n(66),s=n(51),o=n(193),i=n.n(o),c=function(e,t,n,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(o=(s<3?r(o):s>3?r(t,n,o):r(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},l=function(e,t){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let p=class{constructor(e){this.keycloakSetupService=e,this.axios=i.a.createAxiosInstance({loggingEnabled:!1}),this.keycloakSetupService.ready.then(()=>{s.a.sso&&(this.axios.interceptors.request.use(async e=>(await this.handleRefreshToken(5,e),e)),window.addEventListener(\"message\",e=>{if(\"string\"==typeof e.data&&e.data.startsWith(\"update-token:\")){const t=parseInt(e.data.split(\":\")[1],10),n=Number.isNaN(t)?5:Math.ceil(t/1e3);this.handleRefreshToken(n)}},!1))})}async handleRefreshToken(e,t){try{await this.refreshToken(e,t)}catch(e){console.error(\"Failed to refresh token.\",e),this.redirectedToKeycloakLogin()}}redirectedToKeycloakLogin(){const{sessionStorage:e,location:{href:t}}=window,{keycloak:n}=s.a;e.setItem(\"oidcDashboardRedirectUrl\",t),n&&n.login&&n.login()}get token(){const{keycloak:e}=s.a;return e?e.token:void 0}refreshToken(e,t){const{keycloak:n}=s.a;return n?new Promise((a,r)=>{n.updateToken(e).success(e=>{(e||t&&!t.headers.common.Authorization)&&t&&(t.headers.common.Authorization=\"Bearer \"+n.token),a(n.token)}).error(e=>{r(new Error(e))})}):this.token?Promise.resolve(this.token):Promise.reject(new Error(\"Unable to resolve token\"))}};p=c([Object(a.injectable)(),l(\"design:paramtypes\",[r.a])],p)},23:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return h})),n.d(t,\"b\",(function(){return m}));n(201);var a=n(46),r=n(461),s=n.n(r),o=n(66),i=n(51),c=n(356),l=n(42),p=n(116),u=n(93),d=n(108);const h=new a.Container,{lazyInject:m}=s()(h);h.bind(u.a).toSelf().inSingletonScope(),h.bind(o.a).toSelf().inSingletonScope(),h.bind(i.a).toSelf().inSingletonScope(),h.bind(c.a).toSelf(),h.bind(l.a).toSelf().inSingletonScope(),h.bind(d.a).toSelf().inSingletonScope(),h.bind(p.a).toSelf().inSingletonScope()},2388:function(e,t,n){(t=n(6)(!1)).push([e.i,\"._1i-q-D_r94DyeKudELCCjp {\\n  margin-right: 10px;\\n  opacity: 0.8;\\n}\\n\\n.y_xdcFPWPwvvHt2f3Dd0G {\\n  animation-name: _1O_3Nex5UoNOJZJBQzFR8I;\\n  animation-duration: 1s;\\n  animation-timing-function: ease-in-out;\\n  animation-iteration-count: infinite;\\n}\\n\\n@keyframes _1O_3Nex5UoNOJZJBQzFR8I {\\n  from {\\n    transform: rotate(0deg);\\n  }\\n\\n  to {\\n    transform: rotate(360deg);\\n  }\\n}\\n\",\"\"]),t.locals={statusIndicator:\"_1i-q-D_r94DyeKudELCCjp\",rotate:\"y_xdcFPWPwvvHt2f3Dd0G\",spinnerRotate:\"_1O_3Nex5UoNOJZJBQzFR8I\"},e.exports=t},2389:function(e,t,n){(t=n(6)(!1)).push([e.i,\"/*\\n * Copyright (c) 2018-2020 Red Hat, Inc.\\n * This program and the accompanying materials are made\\n * available under the terms of the Eclipse Public License 2.0\\n * which is available at https://www.eclipse.org/legal/epl-2.0/\\n *\\n * SPDX-License-Identifier: EPL-2.0\\n *\\n * Contributors:\\n *   Red Hat, Inc. - initial API and implementation\\n */\\n\\n._2-AwYFGQSzNxZUjFjKMl8j {\\n  background-color: black;\\n}\\n\\n._2VzfFtYcFFBibfr6Z5p6WN {\\n  padding: 50px;\\n  background-color: white;\\n}\\n\",\"\"]),t.locals={backdropBackground:\"_2-AwYFGQSzNxZUjFjKMl8j\",errorMessageContainer:\"_2VzfFtYcFFBibfr6Z5p6WN\"},e.exports=t},2392:function(e,t,n){(t=n(6)(!1)).push([e.i,\"/*\\n * Copyright (c) 2018-2020 Red Hat, Inc.\\n * This program and the accompanying materials are made\\n * available under the terms of the Eclipse Public License 2.0\\n * which is available at https://www.eclipse.org/legal/epl-2.0/\\n *\\n * SPDX-License-Identifier: EPL-2.0\\n *\\n * Contributors:\\n *   Red Hat, Inc. - initial API and implementation\\n */\\n\\n._2kQJSPjBEaDOprSJla-6SB {\\n  width: 33vw;\\n  min-width: 300px;\\n}\\n\\n._3zCVghBl5Yt8VLpttOlj7T {\\n  margin-right: 20px;\\n  color: var(--pf-global--warning-color--100);\\n}\\n\\n._2YLsgLfm3yqNVXmqZtJPRi {\\n  margin-right: 20px;\\n  color: var(--pf-global--danger-color--100);\\n}\\n\\n._3BR02JdVJFmlcFF7CC3Qn4 {\\n  margin: 0 3px;\\n  padding: 3px;\\n  font-weight: bold;\\n  border: 1px solid #ccc;\\n  border-radius: 3px;\\n  box-shadow: inset -0.125rem -0.125rem 0.25rem -0.0625rem rgba(3, 3, 3, 0.16);\\n}\\n\\n._2_osCBU6O6mE0svX-RMTu {\\n  padding: 5px;\\n  white-space: pre-wrap;\\n  background-color: var(--pf-global--palette--red-50);\\n  border-radius: 3px;\\n}\\n\",\"\"]),t.locals={messageContainer:\"_2kQJSPjBEaDOprSJla-6SB\",warningIcon:\"_3zCVghBl5Yt8VLpttOlj7T\",dangerIcon:\"_2YLsgLfm3yqNVXmqZtJPRi\",keybinding:\"_3BR02JdVJFmlcFF7CC3Qn4\",errorMessage:\"_2_osCBU6O6mE0svX-RMTu\"},e.exports=t},2409:function(e,t){},2423:function(e,t){},2428:function(e,t,n){var a=n(5),r=n(2429);\"string\"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,\"\"]]);var s={insert:\"head\",singleton:!1};a(r,s);e.exports=r.locals||{}},2429:function(e,t,n){(t=n(6)(!1)).push([e.i,\"body {\\n  overflow: hidden;\\n}\\n.pf-c-form {\\n  --pf-c-form--m-horizontal__group-label--md--GridColumnWidth: 11rem;\\n}\\ndiv.tippy-popper a {\\n  pointer-events: initial;\\n}\\ndiv.tippy-popper a:not(:hover) {\\n  --pf-global--link--Color: #73bcf7;\\n}\\ndiv.tippy-popper a:hover {\\n  --pf-global--link--Color: #2b9af3;\\n}\\ndiv.main-page-loader {\\n  font-family: Helvetica, Arial, sans-serif;\\n  font-size: 24px;\\n  color: #fff;\\n  background-color: #000;\\n  position: absolute;\\n  top: 0;\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n  margin: auto;\\n  z-index: 80;\\n}\\ndiv.main-page-loader .ide-page-loader-content img {\\n  position: absolute;\\n  top: 0;\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n  margin: auto;\\n  max-width: 140px;\\n  max-height: 140px;\\n  animation-name: opacity;\\n  animation-duration: 2s;\\n  animation-iteration-count: infinite;\\n  animation-timing-function: ease-in-out;\\n}\\n.ide-page-frame {\\n  width: 100%;\\n  height: 100%;\\n  border: none;\\n}\\n.page-label {\\n  text-align: center;\\n  font-size: 20px;\\n  color: #353e50;\\n}\\n.page-description {\\n  padding: 5px 25px;\\n  min-height: 30px;\\n  color: #6e6e6e;\\n  background-color: #ededed;\\n  border-top: 1px solid #cbcbcb;\\n  border-bottom: 1px solid #cbcbcb;\\n  font-size: 14px;\\n}\\n.page-description a {\\n  color: #4a90e2;\\n  margin-left: 5px;\\n}\\n.header-buttons .pf-c-button {\\n  color: #fff;\\n  background-color: #4a90e2;\\n  border-radius: 2px;\\n  font-size: 14px;\\n  line-height: 36px;\\n  padding-top: 0;\\n  padding-bottom: 0;\\n  padding-left: 15px;\\n  padding-right: 15px;\\n  font-weight: 400;\\n}\\n.header-buttons + section.pf-c-page__main-section {\\n  padding-top: 0;\\n  border-top: 1px solid #e4e4e4;\\n}\\n@-moz-keyframes opacity {\\n  0%, 100% {\\n    opacity: 0;\\n  }\\n  50% {\\n    opacity: 1;\\n  }\\n}\\n@-webkit-keyframes opacity {\\n  0%, 100% {\\n    opacity: 0;\\n  }\\n  50% {\\n    opacity: 1;\\n  }\\n}\\n@-o-keyframes opacity {\\n  0%, 100% {\\n    opacity: 0;\\n  }\\n  50% {\\n    opacity: 1;\\n  }\\n}\\n@keyframes opacity {\\n  0%, 100% {\\n    opacity: 0;\\n  }\\n  50% {\\n    opacity: 1;\\n  }\\n}\\n\",\"\"]),e.exports=t},2430:function(e,t,n){var a=n(5),r=n(2431);\"string\"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,\"\"]]);var s={insert:\"head\",singleton:!1};a(r,s);e.exports=r.locals||{}},2431:function(e,t,n){(t=n(6)(!1)).push([e.i,\"/*\\n * Copyright (c) 2018-2020 Red Hat, Inc.\\n * This program and the accompanying materials are made\\n * available under the terms of the Eclipse Public License 2.0\\n * which is available at https://www.eclipse.org/legal/epl-2.0/\\n *\\n * SPDX-License-Identifier: EPL-2.0\\n *\\n * Contributors:\\n *   Red Hat, Inc. - initial API and implementation\\n */\\n/*\\n * This file is for patternfly css specific overrides\\n */\\n.pf-c-app-launcher__menu-item-external-icon {\\n  color: var(--pf-global--icon--Color--light) !important;\\n  opacity: 1 !important;\\n}\\n.pf-c-page-section-no-padding {\\n  padding: 0 !important;\\n}\\n\",\"\"]),e.exports=t},250:function(e,t,n){var a=n(5),r=n(2388);\"string\"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,\"\"]]);var s={insert:\"head\",singleton:!1};a(r,s);e.exports=r.locals||{}},255:function(e,t,n){\"use strict\";n.d(t,\"c\",(function(){return o})),n.d(t,\"g\",(function(){return i})),n.d(t,\"b\",(function(){return c})),n.d(t,\"e\",(function(){return l})),n.d(t,\"d\",(function(){return p})),n.d(t,\"a\",(function(){return u})),n.d(t,\"h\",(function(){return d})),n.d(t,\"f\",(function(){return w}));var a=n(83),r=n(256);const s=e=>e.workspaces,o=Object(a.a)(s,e=>e.isLoading),i=Object(a.a)(s,e=>e.settings),c=Object(a.a)(i,e=>r.c(e)),l=Object(a.a)(i,e=>r.d(e)),p=Object(a.a)(s,e=>e.workspacesLogs),u=Object(a.a)(s,e=>e.workspaces),d=(Object(a.a)(s,u,(e,t)=>t?t.find(t=>t.namespace===e.namespace&&t.devfile.metadata.name===e.workspaceName):null),Object(a.a)(s,u,(e,t)=>t?t.find(t=>t.id===e.workspaceId):null)),h=(Object(a.a)(u,e=>e?e.sort(h):null),(e,t)=>m(e,t)||f(e,t)),m=(e,t)=>{const n=e.namespace||\"\",a=t.namespace||\"\";return n>a?1:n<a?-1:0},f=(e,t)=>{const n=e.devfile.metadata.name||\"\",a=t.devfile.metadata.name||\"\";return n>a?1:n<a?-1:0},g=Object(a.a)(u,e=>e?e.sort(E):null),E=(e,t)=>{const n=e.attributes&&(e.attributes.updated||e.attributes.created)||0,a=t.attributes&&(t.attributes.updated||t.attributes.created)||0;return n>a?-1:n<a?1:0},b=Object(a.a)(s,e=>e.recentNumber),w=Object(a.a)(b,g,(e,t)=>t?t.slice(0,e):null)},256:function(e,t,n){\"use strict\";n.d(t,\"e\",(function(){return s})),n.d(t,\"b\",(function(){return o})),n.d(t,\"c\",(function(){return i})),n.d(t,\"d\",(function(){return c})),n.d(t,\"a\",(function(){return l})),n.d(t,\"f\",(function(){return p}));var a,r=n(263);function s(e){if(!a[e])throw new Error(`Unknown storage type: \"${e}\"`);return a[e]}function o(e){switch(e){case a.async:return\"async\";case a.ephemeral:return\"ephemeral\";case a.persistent:return\"persistent\";default:throw new Error(`Cannot get storage type for given title: \"${e}\"`)}}function i(e){if(!e||!e[\"che.workspace.storage.available_types\"]){const e=Object(r.a)();if(Object(r.b)(e))return[\"persistent\"];throw new Error(\"Unable to get available storage types\")}return e[\"che.workspace.storage.available_types\"].split(\",\")}function c(e){return e[\"che.workspace.storage.preferred_type\"]}function l(e){return\"false\"===(null==e?void 0:e.persistVolumes)?\"true\"===e.asyncPersist?\"async\":\"ephemeral\":\"persistent\"}function p(e,t){const n=JSON.parse(JSON.stringify(e));switch(t){case\"persistent\":n.attributes&&(delete n.attributes.persistVolumes,delete n.attributes.asyncPersist,0===Object.keys(n.attributes).length&&delete n.attributes);break;case\"ephemeral\":n.attributes||(n.attributes={}),n.attributes.persistVolumes=\"false\",delete n.attributes.asyncPersist;break;case\"async\":n.attributes||(n.attributes={}),n.attributes.persistVolumes=\"false\",n.attributes.asyncPersist=\"true\"}return n}!function(e){e.async=\"Asynchronous\",e.ephemeral=\"Ephemeral\",e.persistent=\"Persistent\"}(a||(a={}))},263:function(e,t,n){\"use strict\";(function(e){function a(){const t={type:\"development\"===(e&&e.env&&\"production\")?\"development\":\"production\"};return\"development\"===t.type&&(t.server=e.env.SERVER),t}function r(e){return\"development\"===e.type}n.d(t,\"a\",(function(){return a})),n.d(t,\"b\",(function(){return r}))}).call(this,n(29))},28:function(e,t,n){\"use strict\";function a(e,t){return Object.assign({},e,t)}n.d(t,\"a\",(function(){return a}))},2803:function(e,t,n){\"use strict\";n.r(t);n(201);var a=n(1),r=n.n(a),s=n(41),o=n.n(s),i=n(59),c=n(75),l=(n(506),n(603),n(339),n(132)),p=n(460),u=n(361),d=n(246),h=n(87),m=n.n(h);var f,g=n(348);!function(e){e.WORKSPACE_SHARING=\"workspaceSharing\",e.KUBERNETES_NAMESPACE_SELECTOR=\"kubernetesNamespaceSelector\"}(f||(f={}));const E={title:\"Eclipse Che\",name:\"Eclipse Che\",logoFile:\"che-logo.svg\",logoTextFile:\"che-logo-text.svg\",helpPath:\"https://www.eclipse.org/che/\",helpTitle:\"Community\",supportEmail:\"che-dev@eclipse.org\",docs:{devfile:\"https://www.eclipse.org/che/docs/che-7/making-a-workspace-portable-using-a-devfile/\",workspace:\"https://www.eclipse.org/che/docs/che-7/workspaces-overview/\",certificate:\"https://www.eclipse.org/che/docs/che-7/importing-certificates-to-browsers/\",general:\"https://www.eclipse.org/che/docs/che-7\",storageTypes:\"https://www.eclipse.org/che/docs/che-7/configuring-storage-types/\",webSocketTroubleshooting:\"https://www.eclipse.org/che/docs/che-7/troubleshooting-network-problems/#troubleshooting-websocket-secure-connections_troubleshooting-network-problems\"},configuration:{cheCliTool:\"chectl\"}};var b=n(23),w=n(42);const y=b.a.get(w.a),v={requestBranding:()=>async e=>{const t=\"./assets/branding/product.json\";e({type:\"REQUEST_BRANDING\",isLoading:!0});try{const n=R(await async function(e){try{return(await m.a.get(e)).data}catch(t){throw new Error(\"Failed to fetch branding data by URL: \"+e)}}(t)),a=await y.restApiClient.getApiInfo();n.productVersion=n.productVersion?n.productVersion:a.implementationVersion,e({type:\"RECEIVED_BRANDING\",isLoading:!1,data:n})}catch(e){throw new Error(\"Failed to request branding data by URL: \"+t)}}},k={isLoading:!1,data:R()};function R(e){let t=Object.assign({},E);e&&Object.keys(e).length>0&&(t=Object(g.merge)(t,e));return[\"logoFile\",\"logoTextFile\"].forEach(e=>{t[e].startsWith(\"./assets/branding/\")||(t[e]=\"./assets/branding/\"+t[e])}),t}var S=n(172),O=n(331);const C=b.a.get(w.a),_={requestNamespaces:()=>async e=>{e({type:\"REQUEST_NAMESPACES\"});try{const t=await C.restApiClient.getKubernetesNamespace();return e({type:\"RECEIVE_NAMESPACES\",namespaces:t}),t}catch(e){throw new Error(\"Failed to request list of available kubernetes namespaces, \\n\"+e)}}},A={isLoading:!1,namespaces:[]},P=m.a.create();const I={requestPlugins:e=>async(t,n)=>{const a=n();if(!a||!a.infrastructureNamespace)throw Error(\"something unexpected happened\");t({type:\"REQUEST_PLUGINS\"});try{const n=await async function(e,t){try{return(await P.request({method:\"GET\",url:e+\"/plugins/\",headers:t||{Authorization:void 0}})).data}catch(e){throw new Error(\"Failed to fetch workspace settings, \"+e)}}(e);return t({type:\"RECEIVE_PLUGINS\",plugins:n}),n}catch(e){throw new Error(\"Failed to request plugins, \\n\"+e)}}},T={isLoading:!1,plugins:[]};var N=n(357),D=n(113),L=n(28);const j=b.a.get(w.a),U={requestUser:()=>async e=>{e({type:\"REQUEST_USER\"});try{return void e({type:\"RECEIVE_USER\",user:await j.restApiClient.getCurrentUser()})}catch(e){throw new Error(e.message?e.message:\"Failed to request user\")}},setUser:e=>t=>{t({type:\"SET_USER\",user:e})}},x={user:void 0,isLoading:!1},W=b.a.get(w.a),F={requestUserProfile:()=>async e=>{e({type:\"REQUEST_USER_PROFILE\"});try{e({type:\"RECEIVE_USER_PROFILE\",profile:await W.restApiClient.getCurrentUserProfile()})}catch(e){throw new Error(e.message?e.message:\"Failed to request userProfile\")}}},V={profile:void 0,isLoading:!1};var M=n(200),K=n(194);const B={requestDwDevfiles:e=>async t=>{t({type:\"REQUEST_DW_PLUGIN\"});try{const n=await Object(K.a)(e);t({type:\"RECEIVE_DW_PLUGIN\",plugin:Object(M.safeLoad)(n)})}catch(e){throw new Error(\"Failed to request devworkspace plugin, \\n\"+e)}}},H={isLoading:!1,plugins:[]},G={workspaces:D.b,devfileRegistries:S.b,branding:(e,t)=>{if(void 0===e)return k;const n=t;switch(n.type){case\"REQUEST_BRANDING\":return Object.assign({},e,{isLoading:!0});case\"RECEIVED_BRANDING\":return Object.assign({},e,{isLoading:!1,data:n.data});default:return e}},user:(e,t)=>{if(void 0===e)return x;const n=t;switch(n.type){case\"REQUEST_USER\":return Object(L.a)(e,{isLoading:!0});case\"RECEIVE_USER\":case\"SET_USER\":return Object(L.a)(e,{isLoading:!1,user:n.user});default:return e}},userProfile:(e,t)=>{if(void 0===e)return V;const n=t;switch(n.type){case\"REQUEST_USER_PROFILE\":return Object(L.a)(e,{isLoading:!0});case\"RECEIVE_USER_PROFILE\":return Object(L.a)(e,{isLoading:!1,profile:n.profile});default:return e}},infrastructureNamespace:(e,t)=>{if(void 0===e)return A;const n=t;switch(n.type){case\"REQUEST_NAMESPACES\":return Object.assign({},e,{isLoading:!0});case\"RECEIVE_NAMESPACES\":return Object.assign({},e,{namespaces:n.namespaces});default:return e}},plugins:(e,t)=>{if(void 0===e)return T;const n=t;switch(n.type){case\"REQUEST_PLUGINS\":return Object.assign({},e,{isLoading:!0});case\"RECEIVE_PLUGINS\":return Object.assign({},e,{plugins:n.plugins});default:return e}},factoryResolver:O.c,userPreferences:N.b,dwPlugins:(e,t)=>{if(void 0===e)return H;const n=t;switch(n.type){case\"REQUEST_DW_PLUGIN\":return Object.assign({},e,{isLoading:!0});case\"RECEIVE_DW_PLUGIN\":return Object.assign({},e,{plugins:e.plugins.includes(n.plugin)?e.plugins:e.plugins.concat([n.plugin])});default:return e}}};var q=n(2904),z=n(2830),Q=n(2907),J=n(116),Y=function(e,t,n,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(o=(s<3?r(o):s>3?r(t,n,o):r(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},$=function(e,t){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class Z extends r.a.PureComponent{constructor(e){super(e),this.state={alerts:[]},this.showAlertHandler=e=>{this.setState({alerts:e})}}componentDidMount(){this.appAlerts.subscribe(this.showAlertHandler)}componentWillUnmount(){this.appAlerts.unsubscribe(this.showAlertHandler)}getTime(e){let t;switch(e){case q.b.success:t=2e3;break;case q.b.info:t=8e3;break;default:t=2e4}return t}getAlert(e){const{variant:t,title:n,key:a,children:s}=e,o=setTimeout(()=>{this.appAlerts.removeAlert(a)},this.getTime(t));return r.a.createElement(q.a,{variant:t,title:n,key:a,actionClose:r.a.createElement(z.a,{onClose:()=>{clearTimeout(o),this.appAlerts.removeAlert(a)}})},s||\"\")}render(){return r.a.createElement(Q.a,{isToast:!0},this.state.alerts.map(e=>this.getAlert(e)))}}Y([Object(b.b)(J.a),$(\"design:type\",J.a)],Z.prototype,\"appAlerts\",void 0);var X=Z,ee=n(332),te=n(329),ne=n(245),ae=n(2842),re=n(2910),se=n(476),oe=n.n(se),ie=n(136),ce=n(2835),le=n(2908),pe=n(326),ue=n(325),de=n(2836),he=n(2837),me=n(2838),fe=n(2909),ge=n(2840),Ee=n(2841),be=n(30),we=n(51),ye=n(2839),ve=n(2831),ke=n(2832),Re=n(2833),Se=n(2898),Oe=n(477);const Ce=e=>{const t=e.productVersion,n=e.username,r=e.browserVersion,s=e.browserOS,o=e.browserName;return a.createElement(a.Fragment,null,a.createElement(ve.a,null,a.createElement(ke.a,{component:\"dl\"},t&&a.createElement(a.Fragment,null,a.createElement(Re.a,{component:\"dt\"},\"Version\"),a.createElement(Re.a,{component:\"dd\"},a.createElement(\"div\",{className:\"co-select-to-copy\"},t))),n&&a.createElement(a.Fragment,null,a.createElement(Re.a,{component:\"dt\"},\"Username\"),a.createElement(Re.a,{component:\"dd\",className:\"co-select-to-copy\"},n)),o&&a.createElement(a.Fragment,null,a.createElement(Re.a,{component:\"dt\"},\"Browser Name\"),a.createElement(Re.a,{component:\"dd\",className:\"co-select-to-copy\"},o)),r&&a.createElement(a.Fragment,null,a.createElement(Re.a,{component:\"dt\"},\"Browser Version\"),a.createElement(Re.a,{component:\"dd\",className:\"co-select-to-copy\"},r)),s&&a.createElement(a.Fragment,null,a.createElement(Re.a,{component:\"dt\"},\"Browser OS\"),a.createElement(Re.a,{component:\"dd\",className:\"co-select-to-copy\"},s)))))};class _e extends a.PureComponent{render(){const{isOpen:e,closeAboutModal:t}=this.props,n=this.props.productName,r=this.props.logo,s=this.props.productVersion,o=this.props.username,i=Object(Oe.a)(),c=null==i?void 0:i.version,l=null==i?void 0:i.os,p=null==i?void 0:i.name;return a.createElement(Se.a,{isOpen:e,onClose:t,brandImageSrc:r,brandImageAlt:n+\" logo\",noAboutModalBoxContentContainer:!0},a.createElement(Ce,{productVersion:s,username:o,browserOS:l,browserVersion:c,browserName:p}))}}n(704);var Ae=function(e,t,n,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(o=(s<3?r(o):s>3?r(t,n,o):r(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},Pe=function(e,t){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class Ie extends r.a.PureComponent{constructor(e){super(e),this.state={isUsernameDropdownOpen:!1,isInfoDropdownOpen:!1,isModalOpen:!1}}onUsernameSelect(){this.setState({isUsernameDropdownOpen:!this.state.isUsernameDropdownOpen,isInfoDropdownOpen:!1})}onUsernameButtonToggle(e){this.setState({isUsernameDropdownOpen:e,isInfoDropdownOpen:!1})}setTheme(e){this.props.changeTheme(e)}showAlert(e){this.appAlerts.showAlert(e)}getHost(){const{user:e}=this.props;if(e&&e.links){const t=e.links.find(e=>\"current_user\"===e.rel);if(t)return new URL(t.href).origin}return window.location.host}getCliTool(){return this.props.branding.data.configuration.cheCliTool}getUsername(){const{userProfile:{profile:e},user:t}=this.props;let n=\"\";return e&&e.attributes&&(e.attributes.firstName&&(n+=e.attributes.firstName),e.attributes.lastName&&(n+=\" \"+e.attributes.lastName)),!n&&t&&t.name&&(n+=t.name),n}getEmail(){const{userProfile:{profile:e}}=this.props;return e?e.email:\"\"}getLoginCommand(){const{keycloak:e,sso:t}=we.a;let n=this.getCliTool()+\" auth:login \"+this.getHost();if(!t)return n;if(!e)throw new Error(\"Keycloak instance is undefined.\");if(!e.refreshToken)throw new Error(\"Refresh token is empty.\");return n+=\" -t \"+e.refreshToken,n}copyLoginCommand(){let e=\"\";try{e=this.getLoginCommand();const t=document.createElement(\"span\");t.appendChild(document.createTextNode(e));const n=t.style;n.setProperty(\"position\",\"absolute\"),n.setProperty(\"width\",\"1px\"),n.setProperty(\"height\",\"1px\"),n.setProperty(\"opacity\",\"0\");document.getElementsByTagName(\"body\")[0].append(t);const a=document.createRange();a.selectNode(t);const r=document.getSelection();if(!r)throw new Error(\"Document selection is empty.\");r.removeAllRanges(),r.addRange(a),document.execCommand(\"copy\"),r.removeAllRanges(),t.remove(),this.showAlert({key:\"login-command-copied-to-clipboard\",variant:q.b.success,title:\"The login command copied to clipboard.\"})}catch(t){this.showAlert({key:\"login-command-copied-to-clipboard-failed\",variant:q.b.warning,title:\"Failed to put login to clipboard. \"+t}),e&&this.showAlert({key:\"login-command-info\",variant:q.b.info,title:\"Login command\",children:r.a.createElement(r.a.Fragment,null,r.a.createElement(ie.a,{variant:ie.b.link,isInline:!0,onClick:e=>{e.target.classList.add(\"refresh-token-button-hidden\")}},\"Click here\"),r.a.createElement(\"span\",null,\" to see the login command and copy it manually.\"),r.a.createElement(\"pre\",{className:\"refresh-token-area\"},e))})}}async onCopyLoginCommand(){const{onCopyLoginCommand:e}=this.props;e&&e(),await this.props.requestNamespaces(),this.copyLoginCommand()}buildUserDropdownItems(){return[r.a.createElement(ce.a,{key:\"user-account\",component:\"button\",onClick:()=>this.props.history.push(be.a.USER_ACCOUNT)},\"Account\"),r.a.createElement(ce.a,{key:\"user-preferences\",component:\"button\",onClick:()=>this.props.history.push(be.a.USER_PREFERENCES)},\"User Preferences\"),r.a.createElement(ce.a,{key:\"copy-login-command\",component:\"button\",onClick:async()=>await this.onCopyLoginCommand()},`Copy ${this.getCliTool()} login command`),r.a.createElement(ce.a,{key:\"account_logout\",component:\"button\",onClick:()=>this.props.logout()},\"Logout\")]}buildUserToggleButton(){const e=this.getUsername();return r.a.createElement(le.a,{onToggle:e=>this.onUsernameButtonToggle(e)},e)}onInfoDropdownToggle(){this.setState({isInfoDropdownOpen:!this.state.isInfoDropdownOpen,isUsernameDropdownOpen:!1})}buildInfoDropdownItems(){const e=this.props.branding.data,t=\"mailto:\"+e.supportEmail+\"?subject=Wishes%20for%20\",n=e.docs.faq,a=e.docs.general;return[r.a.createElement(pe.a,{key:\"info_button\"},r.a.createElement(ue.a,{key:\"make_a_wish\",isExternal:!0,component:\"button\",onClick:()=>window.open(t,\"_blank\")},\"Make a wish\"),r.a.createElement(ue.a,{key:\"documentation\",isExternal:!0,component:\"button\",onClick:()=>window.open(a,\"_blank\")},\"Documentation\"),n&&r.a.createElement(ue.a,{key:\"faq\",isExternal:!0,onClick:()=>window.open(n,\"_blank\"),component:\"button\"},\"FAQ\"),r.a.createElement(ue.a,{key:\"help\",isExternal:!0,component:\"button\",onClick:()=>window.open(e.helpPath,\"_target\")},e.helpTitle),r.a.createElement(ue.a,{key:\"about\",component:\"button\",onClick:e=>this.onAboutModal(e)},\"About\"))]}onAboutModal(e){e.preventDefault(),this.setState({isInfoDropdownOpen:!1,isUsernameDropdownOpen:!1,isModalOpen:!0})}closeAboutModal(){this.setState({isInfoDropdownOpen:!1,isUsernameDropdownOpen:!1,isModalOpen:!1})}render(){const{isUsernameDropdownOpen:e,isInfoDropdownOpen:t,isModalOpen:n}=this.state,a=this.getEmail(),s=this.getUsername(),o=a?oe()(a,{default:\"retro\"}):\"\",i=!!a,c=this.props.branding.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement(de.a,null,r.a.createElement(he.a,null,r.a.createElement(me.a,null,r.a.createElement(fe.a,{onToggle:()=>this.onInfoDropdownToggle(),isOpen:t,items:this.buildInfoDropdownItems(),\"aria-label\":\"info button\",position:\"right\",toggleIcon:r.a.createElement(ye.a,{alt:\"\"})}),i&&r.a.createElement(ge.a,{isPlain:!0,position:\"right\",onSelect:()=>this.onUsernameSelect(),isOpen:e,toggle:this.buildUserToggleButton(),dropdownItems:this.buildUserDropdownItems()}))),i&&r.a.createElement(Ee.a,{src:o,alt:\"Avatar image\"})),r.a.createElement(_e,{isOpen:n,closeAboutModal:()=>this.closeAboutModal(),username:s,logo:c.logoFile,productName:c.name,productVersion:c.productVersion}))}}Ae([Object(b.b)(J.a),Pe(\"design:type\",J.a)],Ie.prototype,\"appAlerts\",void 0);var Te=Object(i.c)(e=>({userProfile:e.userProfile,branding:e.branding}),_)(Ie),Ne=n(321);class De extends r.a.PureComponent{constructor(e){super(e),this.state={isVisible:this.props.isVisible}}toggleNav(){this.props.toggleNav()}componentDidUpdate(e){e.isVisible!==this.props.isVisible&&this.setState({isVisible:this.props.isVisible})}render(){const e=r.a.createElement(ae.a,{src:this.props.logoUrl,alt:\"Logo\"}),t=this.state.isVisible?Ne.headerShow:Ne.headerHide;return r.a.createElement(re.a,{style:{zIndex:\"inherit\"},className:t,logo:e,logoProps:{href:this.props.helpPath,target:\"_blank\"},showNavToggle:!0,onNavToggle:()=>this.toggleNav(),headerTools:r.a.createElement(Te,{history:this.props.history,user:this.props.user,logout:()=>this.props.logout(),changeTheme:e=>this.props.changeTheme(e)})})}}var Le=n(2848),je=n(195),Ue=n(2846),xe=n(2844),We=n(2845),Fe=n(236),Ve=n(2843);function Me(e,t){return e===t||!(!t||e!==be.a.WORKSPACES)&&/\\/workspace\\//.test(t)}var Ke=n(130),Be=n.n(Ke);function He(e){return r.a.createElement(Ve.a,{itemId:e.item.to,isActive:Me(e.item.to,e.activePath)},r.a.createElement(Fe.a,{to:e.item.to,className:Be.a.mainItem},e.children,e.item.label))}He.displayName=\"NavigationMainItemComponent\";var Ge=He;const qe=[{to:be.a.GET_STARTED,label:\"Get Started Page\",icon:r.a.createElement(xe.a,{className:Be.a.mainItemIcon})},{to:be.a.WORKSPACES,label:\"Workspaces\",icon:r.a.createElement(We.a,{className:Be.a.mainItemIcon})}];function ze(e){const t=qe.map(t=>r.a.createElement(Ge,{key:t.label,item:t,activePath:e.activePath},t.icon));return r.a.createElement(Ue.a,null,t)}ze.displayName=\"NavigationMainListComponent\";var Qe=ze,Je=n(2847),Ye=n(363);function $e(e){return r.a.createElement(Ve.a,{itemId:e.item.to,isActive:Me(e.item.to,e.activePath)},r.a.createElement(Fe.a,{to:e.item.to},r.a.createElement(\"span\",{className:\"workspace-name\"},r.a.createElement(Ye.a,{status:e.item.status}),e.item.label)))}$e.displayName=\"NavigationRecentItemComponent\";var Ze=$e,Xe=n(114);function et(e){const t=function(){const e={to:Object(Xe.c)(\"custom-workspace\"),label:\"Create Workspace\",icon:r.a.createElement(xe.a,{className:Be.a.mainItemIcon})};return r.a.createElement(Ge,{item:e},e.icon)}(),n=(a=e.workspaces,s=e.activePath,a.map(e=>{const t=e.devfile.metadata.name,n=e.namespace,a={to:be.a.IDE_LOADER.replace(\":namespace\",n).replace(\":workspaceName\",t),label:t,status:e.status};return r.a.createElement(Ze,{key:a.to,item:a,activePath:s})}));var a,s;return r.a.createElement(Ue.a,null,r.a.createElement(Je.a,{title:\"RECENT WORKSPACES\"},t,n))}et.displayName=\"NavigationRecentListComponent\";var tt=et,nt=n(255);class at extends r.a.PureComponent{constructor(e){super(e);let t=this.props.history.location.pathname.split(\"&\")[0];if(t===be.a.HOME){t=0===this.props.allWorkspaces.length?Object(Xe.c)(\"get-started\"):Object(Xe.e)()}this.props.history.location.pathname!==t&&this.props.history.replace(t),this.state={activePath:t},this.unregisterFn=this.props.history.listen(e=>{this.setActivePath(e.pathname)})}handleNavSelect(e){this.setState({activePath:e.itemId})}setActivePath(e){this.setState({activePath:e})}componentWillUnmount(){this.unregisterFn()}render(){const{theme:e,recentWorkspaces:t}=this.props,{activePath:n}=this.state,a=t||[];return r.a.createElement(je.a,{\"aria-label\":\"Navigation\",onSelect:e=>this.handleNavSelect(e),theme:e},r.a.createElement(Qe,{activePath:n}),r.a.createElement(tt,{workspaces:a,activePath:n}))}}var rt,st=Object(i.c)(e=>({recentWorkspaces:Object(nt.f)(e),allWorkspaces:Object(nt.a)(e)}),D.a)(at);class ot extends r.a.PureComponent{render(){const{isNavOpen:e,history:t,theme:n}=this.props;return r.a.createElement(Le.a,{isNavOpen:e,theme:n,nav:r.a.createElement(st,{history:t,theme:n})})}}!function(e){e.DARK=\"dark\",e.LIGHT=\"light\"}(rt||(rt={}));var it=n(93),ct=n(2849),lt=n(2850),pt=n(2851),ut=n(2852),dt=n(322);class ht extends r.a.PureComponent{render(){return r.a.createElement(ne.a,null,r.a.createElement(ct.a,{isFilled:!0,padding:{default:\"noPadding\"},className:dt.backdropBackground},r.a.createElement(lt.a,null,r.a.createElement(pt.a,{isFilled:!0}),r.a.createElement(pt.a,{className:dt.errorMessageContainer},r.a.createElement(ut.a,null,this.props.children)),r.a.createElement(pt.a,{isFilled:!0}))))}}var mt=n(2853),ft=n(2854),gt=n(111);class Et extends r.a.PureComponent{render(){const{issue:e}=this.props;switch(e.type){case\"cert\":return this.renderCertError();case\"sso\":return this.renderSsoError(e.error);default:return this.renderUnknownError(e.error)}}renderCertError(){const e=this.props.branding.name,t=this.props.branding.docs.certificate;return r.a.createElement(ve.a,{className:gt.messageContainer},r.a.createElement(mt.a,{component:mt.b.h1},r.a.createElement(ft.a,{className:gt.warningIcon}),\"Certificate Error\"),r.a.createElement(mt.a,{component:mt.b.p},\"Your \",e,\" server may be using a self-signed certificate. To resolve this issue, try to import the servers CA certificate into your browser, as described \",r.a.createElement(\"a\",{href:t,target:\"_blank\",rel:\"noreferrer\"},\"here\"),\".\"),r.a.createElement(mt.a,{component:mt.b.p},\"After importing the certificate, refresh your browser.\"),r.a.createElement(mt.a,{component:mt.b.p},r.a.createElement(\"a\",{href:\"/\"},\"Refresh Now\")))}renderSsoError(e){const t=r.a.createElement(mt.a,{component:mt.b.p},\"We are experiencing some technical difficulties from our SSO\",e?\":\":\".\"),n=e?r.a.createElement(mt.a,{component:mt.b.pre,className:gt.errorMessage},e.message):void 0;return r.a.createElement(ve.a,null,r.a.createElement(mt.a,{component:mt.b.h1},r.a.createElement(ft.a,{className:gt.warningIcon}),\"SSO Error\"),t,n,r.a.createElement(mt.a,{component:mt.b.p},\"Please try \",r.a.createElement(\"kbd\",{className:gt.keybinding},\"Shift\"),\"+\",r.a.createElement(\"kbd\",{className:gt.keybinding},\"Refresh\")))}renderUnknownError(e){const t=e?r.a.createElement(mt.a,{component:mt.b.pre,className:gt.errorMessage},e.message):void 0;return r.a.createElement(ve.a,null,r.a.createElement(mt.a,{component:mt.b.h1},r.a.createElement(ft.a,{className:gt.warningIcon}),\"Error\"),t,r.a.createElement(mt.a,{component:mt.b.p},\"Please try \",r.a.createElement(\"kbd\",null,\"Shift\"),\"+\",r.a.createElement(\"kbd\",null,\"Refresh\")))}}var bt=n(2855),wt=n(480),yt=n.n(wt);class vt extends r.a.PureComponent{render(){var e;const t=null===(e=this.props.brandingStore.data.header)||void 0===e?void 0:e.warning;if(!t)return null;const n=yt()(t,{allowedTags:[\"a\"],allowedAttributes:{a:[\"href\",\"target\"]},allowedSchemes:[\"http\",\"https\"]});return r.a.createElement(bt.a,{className:\"pf-u-text-align-center\",variant:\"warning\"},r.a.createElement(\"div\",{dangerouslySetInnerHTML:{__html:n}}))}}var kt=Object(i.c)(e=>({brandingStore:e.branding}))(vt);class Rt extends r.a.PureComponent{constructor(e){super(e),this.cheWorkspaceClient=b.a.get(w.a),this.state={erroringWebSockets:this.cheWorkspaceClient.failingWebSockets}}componentWillUnmount(){this.cheWorkspaceClient.removeWebSocketFailedListener()}componentDidMount(){this.cheWorkspaceClient.onWebSocketFailed(()=>{this.setState({erroringWebSockets:this.cheWorkspaceClient.failingWebSockets})})}render(){if(0===this.state.erroringWebSockets.length)return null;const e=this.props.brandingStore.data.docs.webSocketTroubleshooting;return r.a.createElement(bt.a,{className:\"pf-u-text-align-center\",variant:\"warning\"},'WebSocket connections are failing. Refer to \"',r.a.createElement(\"a\",{href:e,rel:\"noreferrer\",target:\"_blank\"},\"Network Troubleshooting\"),'\" in the user guide.')}}var St=Object(i.c)(e=>({brandingStore:e.branding}))(Rt);class Ot extends r.a.PureComponent{constructor(e){super(e),this.state={bannerAlerts:[r.a.createElement(St,{key:\"WebSocketBannerAlert\"}),r.a.createElement(kt,{key:\"WarningBanner\"})]}}render(){const e=this.state.bannerAlerts;return r.a.createElement(\"div\",null,e.map(e=>r.a.createElement(\"div\",{key:e.key},e)))}}var Ct=n(2856);class _t extends r.a.PureComponent{constructor(e){super(e),this.state={hasError:!1,expanded:!1,activeItems:{}}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,t){this.setState({hasError:!0,error:e,errorInfo:t})}handleOnClick(){const e=!this.state.expanded;this.setState({expanded:e})}render(){const{hasError:e,error:t,errorInfo:n,expanded:a}=this.state;if(e){const e=a?\"Hide stack\":\"View stack\",s=(null==t?void 0:t.name)?t.name:Error,o=(null==t?void 0:t.message)?\": \"+t.message:\"\";return r.a.createElement(ct.a,{variant:ct.b.light,isFilled:!0},r.a.createElement(q.a,{isInline:!0,variant:q.b.danger,title:s+o,actionLinks:r.a.createElement(r.a.Fragment,null,r.a.createElement(Ct.a,{onClick:()=>this.handleOnClick()},e))},a&&n&&r.a.createElement(ve.a,null,r.a.createElement(mt.a,{component:mt.b.pre},n.componentStack))))}return this.props.children}}var At=n(334),Pt=function(e,t,n,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(o=(s<3?r(o):s>3?r(t,n,o):r(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},It=function(e,t){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class Tt extends r.a.PureComponent{constructor(e){super(e),this.toDispose=new At.a;const t=window.sessionStorage.getItem(\"theme\")||rt.DARK;this.state={isHeaderVisible:!0,isSidebarVisible:!0,theme:t}}logout(){this.keycloakAuthService.logout()}toggleNav(){this.setState({isSidebarVisible:!this.state.isSidebarVisible}),window.postMessage(\"toggle-navbar\",\"*\")}changeTheme(e){this.setState({theme:e}),window.sessionStorage.setItem(\"theme\",e)}componentDidMount(){const e=e=>{\"string\"==typeof e.data&&(\"show-navbar\"===e.data?this.setState({isSidebarVisible:!0,isHeaderVisible:!0}):\"hide-navbar\"===e.data&&this.setState({isSidebarVisible:!1,isHeaderVisible:!1}))};window.addEventListener(\"message\",e,!1),this.toDispose.push({dispose:()=>{window.removeEventListener(\"message\",e)}})}componentWillUnmount(){this.toDispose.dispose()}render(){if(this.issuesReporterService.hasIssue){const e=this.issuesReporterService.reportIssue(),t=this.props.brandingStore.data;if(e)return r.a.createElement(ht,null,r.a.createElement(Et,{branding:t,issue:e}))}const{isHeaderVisible:e,isSidebarVisible:t,theme:n}=this.state,{history:a}=this.props,s=this.props.userStore.user,o=this.props.brandingStore.data.logoFile,i=this.props.brandingStore.data.helpPath;return r.a.createElement(ne.a,{header:r.a.createElement(De,{history:a,isVisible:e,helpPath:i,logoUrl:o,user:s,logout:()=>this.logout(),toggleNav:()=>this.toggleNav(),changeTheme:e=>this.changeTheme(e)}),sidebar:r.a.createElement(ot,{isManaged:!1,isNavOpen:t,history:a,theme:n}),isManagedSidebar:!1},r.a.createElement(_t,null,r.a.createElement(Ot,null),this.props.children))}}Pt([Object(b.b)(it.a),It(\"design:type\",it.a)],Tt.prototype,\"issuesReporterService\",void 0),Pt([Object(b.b)(we.a),It(\"design:type\",we.a)],Tt.prototype,\"keycloakAuthService\",void 0);var Nt=Object(i.c)(e=>({brandingStore:e.branding,userStore:e.user}))(Tt),Dt=n(26);const Lt=r.a.lazy(()=>Promise.all([n.e(\"vendor\"),n.e(6)]).then(n.bind(null,2968))),jt=r.a.lazy(()=>Promise.all([n.e(\"vendor\"),n.e(\"common\"),n.e(2)]).then(n.bind(null,2972))),Ut=r.a.lazy(()=>Promise.all([n.e(\"monaco\"),n.e(\"vendor\"),n.e(\"common\"),n.e(0)]).then(n.bind(null,2970))),xt=r.a.lazy(()=>Promise.all([n.e(\"vendor\"),n.e(\"common\"),n.e(5)]).then(n.bind(null,2973))),Wt=r.a.lazy(()=>Promise.all([n.e(\"vendor\"),n.e(\"common\"),n.e(3)]).then(n.bind(null,2974))),Ft=r.a.lazy(()=>Promise.all([n.e(\"vendor\"),n.e(\"common\"),n.e(8)]).then(n.bind(null,2971))),Vt=r.a.lazy(()=>Promise.all([n.e(\"vendor\"),n.e(7)]).then(n.bind(null,2969))),Mt=[{to:be.a.GET_STARTED,component:Lt},{to:be.a.HOME,component:Lt},{to:be.a.WORKSPACES,component:jt},{to:be.a.WORKSPACE_DETAILS,component:Ut},{to:be.a.IDE_LOADER,component:xt},{to:be.a.LOAD_FACTORY,component:Wt},{to:be.a.USER_PREFERENCES,component:Ft},{to:be.a.USER_ACCOUNT,component:Vt}];function Kt(){const e=Mt.map(e=>r.a.createElement(Dt.b,{exact:!0,key:e.to,path:e.to,component:e.component}));return r.a.createElement(Dt.d,null,r.a.createElement(Dt.b,{key:\"simple-factory-url-1\",path:\"/http:\\\\/\\\\/*\",render:Bt}),r.a.createElement(Dt.b,{key:\"simple-factory-url-2\",path:\"/https:\\\\/\\\\/*\",render:Bt}),e,r.a.createElement(Dt.a,{key:\"redirect-to-home\",path:\"*\",to:\"/\"}))}function Bt(e){const t=e.location;t.pathname.startsWith(\"/\")&&(t.pathname=t.pathname.substring(1));const n=Object(Xe.f)(t),a=n.pathname+n.search,s=Object(Xe.b)(a);return r.a.createElement(Dt.a,{to:s})}Kt.displayName=\"RoutesComponent\";var Ht=Kt;n(2428);function Gt(e){return r.a.createElement(d.a,{history:e.history},r.a.createElement(te.a,null),r.a.createElement(Nt,{history:e.history},r.a.createElement(X,null),r.a.createElement(a.Suspense,{fallback:ee.a},r.a.createElement(Ht,null))))}Gt.displayName=\"AppComponent\";var qt=Gt,zt=n(66);class Qt{async prefetchResources(e){const t=e.branding.data.configuration.prefetch;t&&(await this.prefetchCheCDNResources(t.cheCDN),this.prefetchOtherResources(t.resources))}async prefetchCheCDNResources(e){if(e)try{const t=await m.a.get(e,{headers:{\"Cache-Control\":\"no-cache\",Expires:\"0\"}});if(!t.data)return;t.data.forEach(e=>{e.cdn?this.appendLink(e.cdn):console.error(\"Unable to find the Theia resource file to cache\")})}catch(e){console.log(\"Unable to find Theia CDN resources to cache\",e)}}prefetchOtherResources(e){e&&0!==e.length&&e.forEach(e=>{this.appendLink(e)})}appendLink(e){console.log(\"Preloading resource\",e);const t=document.createElement(\"link\");t.rel=\"prefetch\",t.href=e,document.head.appendChild(t)}}var Jt=n(108),Yt=function(e,t,n,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(o=(s<3?r(o):s>3?r(t,n,o):r(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},$t=function(e,t){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class Zt{constructor(e){this.store=e}async init(){await this.updateUser(),await this.updateJsonRpcMasterApi(),(new Qt).prefetchResources(this.store.getState());const e=await this.updateWorkspaceSettings();if(\"true\"===e[\"che.devworkspaces.enabled\"]){const t=await this.cheWorkspaceClient.getDefaultNamespace();await this.initializeNamespace(t)&&this.watchNamespaces(t),this.updateDwPlugins(e)}this.updateWorkspaces(),await Promise.all([this.updateBranding(),this.updateInfrastructureNamespaces(),this.updateUserProfile(),this.updatePlugins(e),this.updateRegistriesMetadata(e),this.updateDevfileSchema()])}async updateBranding(){const{requestBranding:e}=v;try{await e()(this.store.dispatch,this.store.getState,void 0)}catch(e){this.issuesReporterService.registerIssue(\"unknown\",new Error(e))}}async updateJsonRpcMasterApi(){return this.cheWorkspaceClient.updateJsonRpcMasterApi()}async initializeNamespace(e){return this.devWorkspaceClient.initializeNamespace(e)}async watchNamespaces(e){const{updateDevWorkspaceStatus:t}=D.a;return this.devWorkspaceClient.subscribeToNamespace(e,t,this.store.dispatch)}async updateUser(){const{requestUser:e,setUser:t}=U,n=this.keycloakSetup.getUser();n?t(n)(this.store.dispatch,this.store.getState,void 0):await e()(this.store.dispatch,this.store.getState,void 0)}async updateWorkspaces(){const{requestWorkspaces:e}=D.a;await e()(this.store.dispatch,this.store.getState,void 0)}async updatePlugins(e){const{requestPlugins:t}=I;await t(e.cheWorkspacePluginRegistryUrl||\"\")(this.store.dispatch,this.store.getState)}async updateDwPlugins(e){const{requestDwDevfiles:t}=B;return Promise.all([t(`${e.cheWorkspacePluginRegistryUrl}/plugins/${e[\"che.factory.default_editor\"]}/devfile.yaml`)(this.store.dispatch,this.store.getState,void 0),t(`${e.cheWorkspacePluginRegistryUrl}/plugins/${e[\"che.factory.default_plugins\"]}/devfile.yaml`)(this.store.dispatch,this.store.getState,void 0)]).then(()=>{})}async updateInfrastructureNamespaces(){const{requestNamespaces:e}=_;await e()(this.store.dispatch,this.store.getState,void 0)}async updateWorkspaceSettings(){const{requestSettings:e}=D.a;return await e()(this.store.dispatch,this.store.getState,void 0),this.store.getState().workspaces.settings}async updateRegistriesMetadata(e){const{requestRegistriesMetadata:t}=S.a;await t(e.cheWorkspaceDevfileRegistryUrl||\"\")(this.store.dispatch,this.store.getState,void 0)}async updateDevfileSchema(){const{requestJsonSchema:e}=S.a;return e()(this.store.dispatch,this.store.getState,void 0)}async updateUserProfile(){const{requestUserProfile:e}=F;return e()(this.store.dispatch,this.store.getState,void 0)}}Yt([Object(b.b)(it.a),$t(\"design:type\",it.a)],Zt.prototype,\"issuesReporterService\",void 0),Yt([Object(b.b)(zt.a),$t(\"design:type\",zt.a)],Zt.prototype,\"keycloakSetup\",void 0),Yt([Object(b.b)(w.a),$t(\"design:type\",w.a)],Zt.prototype,\"cheWorkspaceClient\",void 0),Yt([Object(b.b)(Jt.a),$t(\"design:type\",Jt.a)],Zt.prototype,\"devWorkspaceClient\",void 0);n(2430);!async function(){const e=b.a.get(zt.a);try{await e.start()}catch(e){console.error(\"Keycloak initialization failed. \",e)}const t=Object(c.b)(),n=function(e,t){const n=[p.a,Object(u.a)(e)],a=Object(l.c)({...G,router:Object(d.b)(e)}),r=[],s=\"undefined\"==typeof window?null:window;return s&&s.__REDUX_DEVTOOLS_EXTENSION__&&r.push(s.__REDUX_DEVTOOLS_EXTENSION__()),Object(l.e)(a,t,Object(l.d)(Object(l.a)(...n),...r))}(t),a=document.querySelector(\".ui-container\");try{await new Zt(n).init(),console.log(\"UD: preload data complete successfully.\")}catch(e){console.error(\"UD: preload data failed.\",e)}o.a.render(r.a.createElement(i.a,{store:n},r.a.createElement(qt,{history:t})),a)}()},30:function(e,t,n){\"use strict\";var a;n.d(t,\"a\",(function(){return a})),function(e){e.HOME=\"/\",e.GET_STARTED=\"/get-started\",e.GET_STARTED_TAB=\"/get-started?tab=:tabId\",e.WORKSPACES=\"/workspaces\",e.WORKSPACE_DETAILS=\"/workspace/:namespace/:workspaceName\",e.WORKSPACE_DETAILS_TAB=\"/workspace/:namespace/:workspaceName?tab=:tabId\",e.IDE_LOADER=\"/ide/:namespace/:workspaceName\",e.IDE_LOADER_TAB=\"/ide/:namespace/:workspaceName?tab=:tabId\",e.LOAD_FACTORY=\"/load-factory\",e.LOAD_FACTORY_URL=\"/load-factory?url=:url\",e.USER_PREFERENCES=\"/user-preferences\",e.USER_ACCOUNT=\"/user-account\"}(a||(a={}))},321:function(e,t,n){var a=n(5),r=n(718);\"string\"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,\"\"]]);var s={insert:\"head\",singleton:!1};a(r,s);e.exports=r.locals||{}},322:function(e,t,n){var a=n(5),r=n(2389);\"string\"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,\"\"]]);var s={insert:\"head\",singleton:!1};a(r,s);e.exports=r.locals||{}},329:function(e,t,n){\"use strict\";var a=n(1),r=n.n(a),s=n(473),o=n(59);class i extends r.a.PureComponent{render(){const{pageName:e,brandingStore:{data:{title:t}}}=this.props;return r.a.createElement(s.a,null,r.a.createElement(\"title\",null,e?`${t} | ${e}`:t))}}const c=Object(o.c)(e=>({brandingStore:e.branding}));t.a=c(i)},330:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));const a=(e=500)=>new Promise(t=>setTimeout(t,e))},331:function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return o})),n.d(t,\"a\",(function(){return i})),n.d(t,\"c\",(function(){return l}));var a=n(23),r=n(42);const s=a.a.get(r.a);function o(e){var t,n;return!(!(null===(t=null==e?void 0:e.attributes)||void 0===t?void 0:t.oauth_provider)||!(null===(n=null==e?void 0:e.attributes)||void 0===n?void 0:n.oauth_authentication_url))}const i={requestFactoryResolver:e=>async t=>{t({type:\"REQUEST_FACTORY_RESOLVER\"});try{const n=await s.restApiClient.getFactoryResolver(e);if(!n.devfile)throw new Error(\"The specified link does not contain a valid Devfile.\");return void t({type:\"RECEIVE_FACTORY_RESOLVER\",resolver:{location:e,devfile:n.devfile,source:n.source}})}catch(e){const t=e.response,n=t.data;if(401===t.status&&o(n))throw n;throw new Error(e.message?e.message:\"Failed to request factory resolver\")}}},c={isLoading:!1,resolver:{}},l=(e,t)=>{if(void 0===e)return c;const n=t;switch(n.type){case\"REQUEST_FACTORY_RESOLVER\":return Object.assign({},e,{isLoading:!0});case\"RECEIVE_FACTORY_RESOLVER\":return Object.assign({},e,{resolver:n.resolver});default:return e}}},332:function(e,t,n){\"use strict\";var a=n(253),r=n(1),s=n.n(r);const o=s.a.createElement(\"div\",{style:{height:\"100%\",textAlign:\"center\",opacity:\"0.5\"}},s.a.createElement(a.a,{\"data-testid\":\"fallback-spinner\",size:a.b.xl,style:{top:\"calc(50% - 18px)\"}}));t.a=o},333:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return d}));var a=n(89),r=n(1),s=n.n(r),o=n(168),i=n(15),c=n(238),l=n(102),p=n.n(l);const u=window.getComputedStyle(document.body).getPropertyValue(\"--pf-global--palette--black-500\"),d=e=>s.a.createElement(\"svg\",{fill:e.color?e.color:u,height:\"1em\",width:\"1em\",viewBox:\"0 0 16 16\",\"aria-hidden\":\"true\",role:\"img\",style:{verticalAlign:\"-0.125em\"}},s.a.createElement(\"path\",{d:\"M8.001,0 C3.589,0 0,3.590 0,8 C0,12.410 3.590,16 8.001,16 C12.412,16 16,12.410\\n              16,8 C16,3.589 12.4125,0 8.001,0 Z M8,14 C4.690,14 2,11.310 2,8 C2,4.692 4.690,2\\n              8,2 C11.307,2 14,4.690 14,8 C14,11.309 11.307,14 8,14 Z\"}),s.a.createElement(\"path\",{d:\"M8.001,3.5 C5.519,3.5 3.5,5.520 3.5,8 C3.5,10.481 5.520,12.5 8.000,12.5 C10.482,12.5 12.5,10.481\\n              12.5,8 C12.5,5.519 10.482,3.5 8.000,3.5 Z M8,10.75 C6.483,10.75 5.25,9.517 5.25,8 C5.25,6.484\\n              6.483,5.25 8,5.25 C9.516,5.25 10.75,6.483 10.75,8 C10.75,9.516 9.516,10.75 8,10.75 Z\"}));class h extends s.a.PureComponent{render(){const{status:e}=this.props;let t;const n=s.a.createElement(c.a,{getContent:()=>e,backgroundColor:\"black\",textColor:\"white\",effect:\"solid\"});switch(e){case i.e[i.e.STOPPED]:return t=\"grey\",s.a.createElement(s.a.Fragment,null,s.a.createElement(o.a,{\"data-tip\":\"\",className:`${p.a.statusLabel} ${p.a.stoppedLabel}`,color:t,icon:s.a.createElement(d,null)},\"Stopped\"),n);case i.e[i.e.RUNNING]:return t=\"green\",s.a.createElement(s.a.Fragment,null,s.a.createElement(o.a,{\"data-tip\":\"\",className:p.a.statusLabel,color:t,icon:s.a.createElement(a.ResourcesFullIcon,null)},\"Running\"),n);case i.e[i.e.ERROR]:return t=\"red\",s.a.createElement(s.a.Fragment,null,s.a.createElement(o.a,{\"data-tip\":\"\",className:p.a.statusLabel,color:t,icon:s.a.createElement(a.ExclamationCircleIcon,null)},\"Error\"),n);case i.e[i.e.PAUSED]:return t=\"orange\",s.a.createElement(s.a.Fragment,null,s.a.createElement(o.a,{\"data-tip\":\"\",className:p.a.statusLabel,color:t,icon:s.a.createElement(a.PauseCircleIcon,null)},\"Paused\"),n);case i.e[i.e.STARTING]:return t=\"blue\",s.a.createElement(s.a.Fragment,null,s.a.createElement(o.a,{\"data-tip\":\"\",className:p.a.statusLabel,color:t,icon:s.a.createElement(a.InProgressIcon,{className:p.a.rotate})},\"Starting\"),n);default:return t=\"grey\",s.a.createElement(s.a.Fragment,null,s.a.createElement(o.a,{\"data-tip\":\"\",className:p.a.statusLabel,color:t,icon:s.a.createElement(a.InProgressIcon,{className:p.a.rotate})},(\"\"+e).toLocaleLowerCase()),n)}}}t.b=h},334:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));class a{constructor(){this.disposables=[]}dispose(){for(;this.disposables.length>0;){const e=this.disposables.pop();e&&e.dispose()}}push(e){const t=this.disposables;return t.push(e),{dispose(){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}}},356:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s}));var a=n(46),r=function(e,t,n,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(o=(s<3?r(o):s>3?r(t,n,o):r(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};let s=class{constructor(){this.isDebounceDelay=!1,this.debounceDelayHandlers=[]}setDelay(e=5e3){this.setDebounceDelay(!0),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(()=>{this.setDebounceDelay(!1)},e)}setDebounceDelay(e){this.isDebounceDelay=e,this.debounceDelayHandlers.forEach(t=>{\"function\"==typeof t&&t(e)})}subscribe(e){this.debounceDelayHandlers.push(e)}unsubscribe(e){const t=this.debounceDelayHandlers.indexOf(e);-1!==t&&this.debounceDelayHandlers.splice(t,1)}unsubscribeAll(){this.debounceDelayHandlers=[]}hasDelay(){return this.isDebounceDelay}};s=r([Object(a.injectable)()],s)},357:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i})),n.d(t,\"b\",(function(){return l}));var a=n(28),r=n(23),s=n(42);const o=r.a.get(s.a),i={requestUserPreferences:e=>async t=>{t({type:\"REQUEST_USER_PREFERENCES\"});try{return void t({type:\"RECEIVE_USER_PREFERENCES\",preferences:await o.restApiClient.getUserPreferences(e)})}catch(e){throw new Error(e.message?e.message:\"Failed to request user preferences\")}},replaceUserPreferences:e=>async t=>{t({type:\"REQUEST_USER_PREFERENCES\"});try{return await o.restApiClient.replaceUserPreferences(e),void t({type:\"RECEIVE_USER_PREFERENCES\",preferences:e})}catch(e){throw new Error(e.message?e.message:\"Failed to replace user preferences\")}},updateContainerRegistries:e=>async t=>{const n={};e.forEach(e=>{const{url:t,username:a,password:r}=e;n[t]={username:a,password:r}});try{const e={dockerCredentials:btoa(JSON.stringify(n))};t({type:\"REQUEST_USER_PREFERENCES\"});return void t({type:\"RECEIVE_USER_PREFERENCES\",preferences:await o.restApiClient.updateUserPreferences(e)})}catch(e){throw new Error(e.message?e.message:\"Failed to update docker registries\")}}},c={preferences:{},isLoading:!1},l=(e,t)=>{if(void 0===e)return c;const n=t;switch(n.type){case\"REQUEST_USER_PREFERENCES\":return Object(a.a)(e,{isLoading:!0});case\"RECEIVE_USER_PREFERENCES\":return Object(a.a)(e,{isLoading:!1,preferences:n.preferences});default:return e}}},363:function(e,t,n){\"use strict\";var a=n(89),r=n(1),s=n.n(r),o=n(15),i=n(333),c=n(250),l=n.n(c),p=n(238);class u extends s.a.PureComponent{render(){const{status:e}=this.props;let t,n;switch(e){case o.e[o.e.STOPPED]:t=\"grey\",n=s.a.createElement(i.a,{color:t});break;case o.e[o.e.RUNNING]:t=\"green\",n=s.a.createElement(a.ResourcesFullIcon,{color:t});break;case o.e[o.e.ERROR]:t=\"red\",n=s.a.createElement(a.ExclamationCircleIcon,{color:t});break;case o.e[o.e.PAUSED]:t=\"orange\",n=s.a.createElement(a.PauseCircleIcon,{color:t});break;case o.e[o.e.STARTING]:t=\"#0e6fe0\",n=s.a.createElement(a.InProgressIcon,{className:l.a.rotate,color:t});break;default:t=\"grey\",n=s.a.createElement(a.InProgressIcon,{className:l.a.rotate,color:t})}return s.a.createElement(s.a.Fragment,null,s.a.createElement(\"span\",{\"data-tip\":e,className:l.a.statusIndicator,\"data-testid\":\"workspace-status-indicator\"},n),s.a.createElement(p.a,{backgroundColor:\"black\",textColor:\"white\",effect:\"solid\"}))}}t.a=u},379:function(e,t){},42:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return d}));var a=n(46),r=n(193),s=n.n(r),o=n(107),i=n(220),c=n(66),l=function(e,t,n,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(o=(s<3?r(o):s>3?r(t,n,o):r(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},p=function(e,t){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(e,t){return function(n,a){t(n,a,e)}};let d=class extends i.a{constructor(e){super(e),this.webSocketEventName=\"websocketChanged\",this.baseUrl=\"/api\",this._failingWebSockets=[],this.webSocketEventEmitter=new o.EventEmitter,this.originLocation=new URL(window.location.href).origin}get restApiClient(){return this._restApiClient||this.updateRestApiClient(),this._restApiClient}get jsonRpcMasterApi(){return this._jsonRpcMasterApi}getBaseUrl(){return this.baseUrl}setBaseUrl(e){this.baseUrl=e}updateRestApiClient(){const e=this.baseUrl;this._restApiClient=s.a.getRestApi({baseUrl:e})}async updateJsonRpcMasterApi(){const e=this.originLocation.replace(\"http\",\"ws\");this._jsonRpcMasterApi=s.a.getJsonRpcApi(e,()=>this.refreshToken(5)),this._jsonRpcMasterApi.onDidWebSocketStatusChange(e=>{this._failingWebSockets=[];for(const t of e){const e=t.substring(0,t.indexOf(\"?\"));this._failingWebSockets.push(e)}this.webSocketEventEmitter.emit(this.webSocketEventName)}),await this._jsonRpcMasterApi.connect();const t=this._jsonRpcMasterApi.getClientId();console.log(\"WebSocket connection clientId\",t)}onWebSocketFailed(e){this.webSocketEventEmitter.on(this.webSocketEventName,e)}removeWebSocketFailedListener(){this.webSocketEventEmitter.removeAllListeners(this.webSocketEventName)}get failingWebSockets(){return Array.from(this._failingWebSockets)}async getDefaultNamespace(){if(this.defaultNamespace)return this.defaultNamespace;const e=(await this.restApiClient.getKubernetesNamespace()).filter(e=>\"true\"===e.attributes.default);if(0===e.length)throw new Error(\"Default namespace is not found\");return this.defaultNamespace=e[0].name,this.defaultNamespace}};d=l([Object(a.injectable)(),u(0,Object(a.inject)(c.a)),p(\"design:paramtypes\",[c.a])],d)},51:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var a=n(46);var r,s=function(e,t,n,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(o=(s<3?r(o):s>3?r(t,n,o):r(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};let o=r=class{fetchUserInfo(){const e=(()=>{const e={};return e.promise=new Promise((t,n)=>{e.resolve=t,e.reject=n}),e})();return r.keycloak?(r.keycloak.loadUserInfo().success(t=>{e.resolve(t)}).error(t=>{e.reject(\"User info fetching failed, error: \"+t)}),e.promise):(e.reject(\"Keycloak is not found on the page.\"),e.promise)}async forceUpdateToken(){return this.updateToken(3600)}async updateToken(e){const{keycloak:t}=r;if(t&&t.updateToken)try{await t.updateToken(e)}catch(e){throw window.sessionStorage.setItem(\"oidcDashboardRedirectUrl\",location.href),t&&t.login&&t.login(),new Error(\"Failed to update token. \\n\"+e)}}isPresent(){return r.sso}getProfileUrl(){const{keycloak:e}=r;return e&&e.createAccountUrl?e.createAccountUrl():\"\"}logout(){window.sessionStorage.removeItem(\"githubToken\"),window.sessionStorage.setItem(\"oidcDashboardRedirectUrl\",location.href);const{keycloak:e}=r;e&&e.logout&&e.logout({})}};o.sso=!1,o=r=s([Object(a.injectable)()],o)},66:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return d}));n(201),n(651);var a=n(87),r=n.n(a),s=n(46),o=n(93),i=n(51);var c=function(){return new Promise(e=>{const t=document.readyState;\"interactive\"===t||\"complete\"===t?e():document.onreadystatechange=()=>e()})},l=function(e,t,n,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(o=(s<3?r(o):s>3?r(t,n,o):r(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},p=function(e,t){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const u=[\"che.keycloak.oidc_provider\",\"che.keycloak.auth_server_url\",\"che.keycloak.client_id\",\"che.keycloak.js_adapter_url\",\"che.keycloak.jwks.endpoint\",\"che.keycloak.logout.endpoint\",\"che.keycloak.password.endpoint\",\"che.keycloak.profile.endpoint\",\"che.keycloak.realm\",\"che.keycloak.token.endpoint\",\"che.keycloak.use_nonce\",\"che.keycloak.userinfo.endpoint\",\"che.keycloak.username_claim\",\"che.keycloak.redirect_url.dashboard\"];let d=class{constructor(){this._ready=new Promise(e=>this.resolveReadyPromise=e)}async start(){await this.doInitialization(),this.resolveReadyPromise();try{const e=\"/api/user\",t=await this.testApiAttainability(e);this.user=t}catch(e){throw new Error(\"Failed to get response to API endpoint: \\n\"+e)}}get ready(){return this._ready}async doInitialization(){if(!i.a.sso)try{const e=await this.fetchSettings();if(!e)return void console.warn(\"Keycloak is not configured. Running in Single User mode.\");const t=e.get(\"che.keycloak.js_adapter_url\");if(!t)return void console.warn(\"Keycloak adapter URL is not found. Skip initializing Keycloak.\");i.a.sso=!0;const n=this.buildKeycloakConfig(e);await this.loadAdapterScript(t);const a=await this.initKeycloak(n,e);i.a.keycloak=a}catch(e){console.warn(\"Keycloak initialization failed.\",e)}}async fetchSettings(){try{const t=await r.a.get(\"/api/keycloak/settings\"),n=new Map;for(const a of Object.keys(t.data))e=a,u.indexOf(e)>=0?n.set(a,t.data[a]):console.warn(\"Skip keycloak settings field: \",a);return n}catch(e){if(404===e.response.status)return;throw new Error(`Can't get Keycloak settings: ${e.response.status} ${e.response.statusText}`)}var e}async loadAdapterScript(e){return await c(),new Promise((t,n)=>{const a=document.createElement(\"script\");a.type=\"text/javascript\",a.async=!0,a.src=e,a.addEventListener(\"load\",()=>t()),a.addEventListener(\"error\",()=>{const t=new Error(`Keycloak adapter script loading failed from \"${e}\".`);this.issuesReporterService.registerIssue(\"cert\",t),n(t)}),a.addEventListener(\"abort\",()=>{n(new Error(\"Keycloak adapter script loading aborted.\"))}),document.head.appendChild(a)})}getUser(){return this.user}buildKeycloakConfig(e){const t=e.get(\"che.keycloak.oidc_provider\");return t?{oidcProvider:t,clientId:e.get(\"che.keycloak.client_id\")||\"\"}:{url:e.get(\"che.keycloak.auth_server_url\"),realm:e.get(\"che.keycloak.realm\")||\"\",clientId:e.get(\"che.keycloak.client_id\")||\"\"}}async initKeycloak(e,t){let n=!1;const a=t.get(\"che.keycloak.use_nonce\");a&&\"string\"==typeof a&&(n=\"true\"===a.toLowerCase());const r={useNonce:n},s=window.Keycloak;if(!s)throw new Error(\"Keycloak Adapter not found.\");const o=s(e);return window.sessionStorage.setItem(\"oidcDashboardRedirectUrl\",location.href),new Promise((e,t)=>{o.init({onLoad:\"login-required\",checkLoginIframe:!1,useNonce:r.useNonce}).success(()=>{e(o)}).error(e=>{const n=e?`${e.error}: ${e.error_description}`:\"\",a=\"Keycloak initialization failed\"+(n?\": \":\"\")+n;this.issuesReporterService.registerIssue(\"sso\",new Error(a)),t(new Error(a))})})}async testApiAttainability(e){try{const{keycloak:t}=i.a;t&&await this.setAuthorizationHeader(t);return(await r.a.get(e)).data}catch(t){throw new Error(`Request to \"${e}\" failed:`+t)}}async setAuthorizationHeader(e){try{await this.updateToken(e)}catch(t){throw window.sessionStorage.setItem(\"oidcDashboardRedirectUrl\",location.href),e.login(),new Error(\"Authorization is needed. \\n\"+t)}r.a.interceptors.request.use(t=>(t.headers.Authorization=\"Bearer \"+e.token,t))}async updateToken(e){try{await e.updateToken(5)}catch(e){throw new Error(\"Failed to update token. \\n\"+e)}}};l([Object(s.inject)(o.a),p(\"design:type\",o.a)],d.prototype,\"issuesReporterService\",void 0),d=l([Object(s.injectable)(),p(\"design:paramtypes\",[])],d)},704:function(e,t,n){var a=n(5),r=n(705);\"string\"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,\"\"]]);var s={insert:\"head\",singleton:!1};a(r,s);e.exports=r.locals||{}},705:function(e,t,n){(t=n(6)(!1)).push([e.i,\".refresh-token-area {\\n  display: none;\\n  padding: 7px;\\n  max-height: 210px;\\n  overflow-x: auto;\\n  white-space: pre-wrap;\\n  word-wrap: break-word;\\n  background-color: var(--pf-global--BackgroundColor--200);\\n  border: 1px solid var(--pf-global--BorderColor--dark-100);\\n  border-radius: 3px;\\n}\\n.refresh-token-button-hidden {\\n  display: none !important;\\n}\\n.refresh-token-button-hidden + span {\\n  display: none;\\n}\\n.refresh-token-button-hidden + span + pre {\\n  display: block;\\n}\\n\",\"\"]),e.exports=t},718:function(e,t,n){(t=n(6)(!1)).push([e.i,\"/*\\n * Copyright (c) 2018-2020 Red Hat, Inc.\\n * This program and the accompanying materials are made\\n * available under the terms of the Eclipse Public License 2.0\\n * which is available at https://www.eclipse.org/legal/epl-2.0/\\n *\\n * SPDX-License-Identifier: EPL-2.0\\n *\\n * Contributors:\\n *   Red Hat, Inc. - initial API and implementation\\n */\\n\\n._1S3yxCH4gu0jQWJQ5xLxAy {\\n  animation-name: _1-yJimWu0t0a4ymjIwKhxU;\\n  animation-duration: 0.1s;\\n  animation-timing-function: linear;\\n}\\n\\n@keyframes _1-yJimWu0t0a4ymjIwKhxU {\\n  0% {\\n    min-height: 0;\\n    max-height: 0;\\n    overflow: hidden;\\n  }\\n\\n  100% {\\n    min-height: 57px;\\n    max-height: 57px;\\n    overflow: visible;\\n  }\\n}\\n\\n.CnAhpm57Wg_tlZUICnWNJ {\\n  min-height: 0;\\n  max-height: 0;\\n  overflow: hidden;\\n  animation-name: _1CnoLBzP9GyHlY5CHR36hd;\\n  animation-duration: 0.1s;\\n  animation-timing-function: linear;\\n}\\n\\n@keyframes _1CnoLBzP9GyHlY5CHR36hd {\\n  0% {\\n    min-height: 57px;\\n    max-height: 57px;\\n    overflow: visible;\\n  }\\n\\n  100% {\\n    min-height: 0;\\n    max-height: 0;\\n    overflow: hidden;\\n  }\\n}\\n\",\"\"]),t.locals={headerShow:\"_1S3yxCH4gu0jQWJQ5xLxAy\",showHeader:\"_1-yJimWu0t0a4ymjIwKhxU\",headerHide:\"CnAhpm57Wg_tlZUICnWNJ\",hideHeader:\"_1CnoLBzP9GyHlY5CHR36hd\"},e.exports=t},721:function(e,t,n){(t=n(6)(!1)).push([e.i,\"/*\\n * Copyright (c) 2018-2020 Red Hat, Inc.\\n * This program and the accompanying materials are made\\n * available under the terms of the Eclipse Public License 2.0\\n * which is available at https://www.eclipse.org/legal/epl-2.0/\\n *\\n * SPDX-License-Identifier: EPL-2.0\\n *\\n * Contributors:\\n *   Red Hat, Inc. - initial API and implementation\\n */\\n\\n._1FYY-iBulYk0EO9x4ejarV {\\n  align-items: center;\\n}\\n\\n._3_teXSSqGwn9h8crveuaV_ {\\n  margin-right: 10px;\\n}\\n\",\"\"]),t.locals={mainItem:\"_1FYY-iBulYk0EO9x4ejarV\",mainItemIcon:\"_3_teXSSqGwn9h8crveuaV_\"},e.exports=t},726:function(e,t,n){(t=n(6)(!1)).push([e.i,\"._2wff721rfjc5EYAlqfKNTy > span {\\n  padding-right: 4px;\\n}\\n\\n._1bRLYLMnBZh0k2oh888Qv1 {\\n  text-transform: capitalize;\\n  vertical-align: middle;\\n}\\n\\nsvg._2rAv51VQPrKbLxpMfwpOVz {\\n  width: 17px;\\n}\\n\\n._2rAv51VQPrKbLxpMfwpOVz {\\n  animation-name: psE3Pl6VLtlhH1B2jehY2;\\n  animation-duration: 1s;\\n  animation-timing-function: ease-in-out;\\n  animation-iteration-count: infinite;\\n}\\n\\n@keyframes psE3Pl6VLtlhH1B2jehY2 {\\n  from {\\n    transform: rotate(0deg);\\n  }\\n\\n  to {\\n    transform: rotate(360deg);\\n  }\\n}\\n\",\"\"]),t.locals={stoppedLabel:\"_2wff721rfjc5EYAlqfKNTy\",statusLabel:\"_1bRLYLMnBZh0k2oh888Qv1\",rotate:\"_2rAv51VQPrKbLxpMfwpOVz\",spinnerRotate:\"psE3Pl6VLtlhH1B2jehY2\"},e.exports=t},80:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s})),n.d(t,\"c\",(function(){return o})),n.d(t,\"b\",(function(){return i})),n.d(t,\"d\",(function(){return c}));var a=n(162),r=n(15);function s(e){var t,n,s,o;const i={},c=e.metadata.namespace;i.namespace=c,i.devfile=Object(a.devWorkspaceToDevfile)(e);const l=new Date(e.metadata.creationTimestamp).valueOf();i.attributes={infrastructureNamespace:c,created:l.toString()},(null===(t=e.status)||void 0===t?void 0:t.workspaceId)&&(i.id=null===(n=e.status)||void 0===n?void 0:n.workspaceId);let p=null===(s=e.status)||void 0===s?void 0:s.phase;return p&&(p=p.toUpperCase(),p===r.a[r.a.FAILED]&&(p=r.e[r.e.ERROR]),i.status=p),p&&(null===(o=e.status)||void 0===o?void 0:o.ideUrl)&&(i.runtime={status:p,activeEnv:\"\",machines:{theia:{servers:{theia:{attributes:{type:\"ide\"},url:e.status.ideUrl,status:p}},attributes:{},status:p}}}),i}function o(e){var t;return\"DevWorkspace\"===e.kind||void 0!==(null===(t=e.devfile)||void 0===t?void 0:t.schemaVersion)||void 0!==e.schemaVersion}function i(e){return void 0!==e.metadata.deletionTimestamp}function c(e){return!!e.metadata.labels[\"console.openshift.io/terminal\"]}},93:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s}));var a=n(46),r=function(e,t,n,a){var r,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(o=(s<3?r(o):s>3?r(t,n,o):r(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o};let s=class{constructor(){this.issues=[]}get hasIssue(){return 0!==this.issues.length}registerIssue(e,t){this.issues.push({type:e,error:t})}reportIssue(){return this.issues[0]}reportAllIssues(){return this.issues}};s=r([Object(a.injectable)()],s)}});","extractedComments":[]}