{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{2955:function(e,t,a){var r=a(5),n=a(2956);\"string\"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,\"\"]]);var s={insert:\"head\",singleton:!1};r(n,s);e.exports=n.locals||{}},2956:function(e,t,a){(t=a(6)(!1)).push([e.i,\".sample-card .blank-icon {\\n  font-size: 64px;\\n  width: 64px;\\n  line-height: 64px;\\n  text-align: center;\\n  filter: grayscale(100%) opacity(50%);\\n}\\n.sample-card .blank-icon .codicon-symbol-method {\\n  width: 100%;\\n  font-size: 50px;\\n}\\n\",\"\"]),e.exports=t},2966:function(e,t,a){\"use strict\";a.r(t),a.d(t,\"SamplesListTab\",(function(){return Z}));var r=a(1),n=a.n(r),s=a(59),l=a(2849),i=a(2914),o=a(2831),c=a(2853);class p extends n.a.PureComponent{constructor(e){super(e)}render(){return n.a.createElement(o.a,{className:\"pf-u-m-md pf-u-mt-0\"},n.a.createElement(c.a,{component:c.b.h4},\"Select a Sample\"),n.a.createElement(c.a,{component:c.b.small},\"Select a sample to create your first workspace\"))}}var m=a(2820),d=a.n(m),u=a(2859),h=a(2871),f=a(2872),g=a(2890),b=a(328),y=a(2877);class E extends n.a.PureComponent{constructor(e){super(e),this.state={isChecked:\"false\"===this.props.persistVolumesDefault},this.handleChange=e=>{this.setState({isChecked:e}),this.props.onChange(e)}}render(){const e=this.props.brandingStore.data.docs.storageTypes,t=this.state.isChecked;return n.a.createElement(n.a.Fragment,null,n.a.createElement(g.a,{id:\"temporary-storage-switch\",label:\"Temporary Storage On\",labelOff:\"Temporary Storage Off\",isChecked:t,onChange:this.handleChange,\"aria-describedby\":\"temporary-storage-tooltip\"}),n.a.createElement(\"span\",{style:{marginLeft:\"10px\"}},n.a.createElement(b.a,{id:\"temporary-storage-tooltip\",exitDelay:8e3,isContentLeftAligned:!0,position:b.b.top,content:n.a.createElement(n.a.Fragment,null,\"Temporary Storage allows for faster I/O but may have limited storage and is not persistent.\",n.a.createElement(c.a,null,n.a.createElement(\"a\",{rel:\"noreferrer\",target:\"_blank\",href:e},\"Open documentation page\")))},n.a.createElement(y.a,null))))}}var C=Object(s.c)(e=>({brandingStore:e.branding}))(E),k=a(172),v=a(83),S=a(2918);const O=e=>e.devfileRegistries,x=Object(v.a)(O,e=>e.metadata),j=Object(v.a)(O,e=>e.filter),T=Object(v.a)(O,j,x,(e,t,a)=>t?a.filter(e=>function(e,t){return Object(S.a)(e.displayName,t)||Object(S.a)(e.description||\"\",t)}(e,t)):a);class w extends n.a.PureComponent{constructor(e){super(e),this.state={filterValue:\"\"},this.handleTextInputChange=e=>{this.setState({filterValue:e}),this.props.setFilter(e)},this.buildSearchBox=e=>n.a.createElement(u.a,{value:e,type:\"search\",onChange:this.handleTextInputChange,\"aria-label\":\"Filter samples list\",placeholder:\"Filter by\"})}componentWillUnmount(){this.props.clearFilter()}render(){const e=this.props.filterValue||\"\",t=this.props.metadataFiltered.length;return n.a.createElement(h.a,{className:\"pf-u-m-md pf-u-mb-0 pf-u-mr-0\"},n.a.createElement(f.a,null,this.buildSearchBox(e)),n.a.createElement(f.a,null,n.a.createElement(o.a,null,n.a.createElement(c.a,null,this.buildCount(t,e)))),n.a.createElement(f.a,{align:{default:\"alignRight\"}},n.a.createElement(C,{persistVolumesDefault:this.props.persistVolumesDefault,onChange:this.props.onTemporaryStorageChange})))}buildCount(e,t){return\"\"===t?n.a.createElement(\"span\",null):n.a.createElement(d.a,{singular:\"item\",count:e,zero:\"Nothing found\",\"data-testid\":\"toolbar-results-count\"})}}var F=Object(s.c)(e=>({filterValue:j(e),metadataFiltered:T(e)}),k.a)(w),N=a(2907),D=a(2904),V=a(2830),L=a(2894),P=a(2864),I=a(2865),_=a(2834),z=a(2866),A=a(2895),B=a(136),J=a(2860),R=a(485),q=a(2891),G=a(2892),H=a(2893),M=a(2842);a(2955);class U extends n.a.PureComponent{render(){const e=this.props.metadata,t=this.buildIcon(e);return n.a.createElement(R.a,{isHoverable:!0,isCompact:!0,isSelectable:!0,key:e.links.self,onClick:()=>this.props.onClick(e),className:\"sample-card\"},n.a.createElement(q.a,null,n.a.createElement(G.a,null,t)),n.a.createElement(q.a,null,e.displayName),n.a.createElement(H.a,null,e.description))}buildIcon(e){return e.icon?n.a.createElement(M.a,{src:e.icon,alt:e.displayName,style:{height:\"64px\"}}):n.a.createElement(\"div\",{className:\"blank-icon\"},n.a.createElement(\"div\",{className:\"codicon codicon-symbol-method\"}))}}class W extends n.a.PureComponent{constructor(e){super(e),this.state={alerts:[]}}removeAlert(e){this.setState({alerts:[...this.state.alerts.filter(t=>t.key!==e)]})}render(){const e=this.props.metadataFiltered,t=this.buildCardsList(e);return t.length?n.a.createElement(n.a.Fragment,null,n.a.createElement(N.a,{isToast:!0},this.state.alerts.map(({title:e,variant:t,key:a})=>n.a.createElement(D.a,{variant:t,title:e,key:a,actionClose:n.a.createElement(V.a,{onClose:()=>this.removeAlert(a)})}))),n.a.createElement(L.a,{hasGutter:!0},t)):this.buildEmptyState()}async fetchDevfile(e){try{const t=await this.props.requestDevfile(e.links.self);this.props.onCardClick(t,e.displayName)}catch(t){console.warn(\"Failed to load devfile.\",t);const a=[...this.state.alerts,{key:e.links.self,title:`Failed to load devfile \"${e.displayName}\"`,variant:D.b.warning}];this.setState({alerts:a})}}buildCardsList(e=[]){return e.map(e=>n.a.createElement(U,{key:e.links.self,metadata:e,onClick:()=>this.fetchDevfile(e)}))}buildEmptyState(){return n.a.createElement(P.a,{variant:P.b.full},n.a.createElement(I.a,{icon:J.a}),n.a.createElement(_.a,{headingLevel:\"h1\"},\"No results found\"),n.a.createElement(z.a,null,\"No results match the filter criteria. Clear filter to show results.\"),n.a.createElement(A.a,null,n.a.createElement(B.a,{variant:\"link\",onClick:()=>this.props.clearFilter()},\"Clear filter\")))}}var $=Object(s.c)(e=>({metadataFiltered:T(e)}),{...k.a})(W),K=a(255),Q=a(200),X=a(256),Y=a(2915);class Z extends n.a.PureComponent{constructor(e){super(e);const t=\"ephemeral\"===this.props.preferredStorageType?\"false\":this.props.settings[\"che.workspace.persist_volumes.default\"];this.state={persistVolumesDefault:t}}handleTemporaryStorageChange(e){this.setState({temporary:e})}handleSampleCardClick(e,t){let a=Object(Q.load)(e);return a=void 0===this.state.temporary?Object(X.f)(a,this.props.preferredStorageType):\"async\"===this.props.preferredStorageType?Object(X.f)(a,this.state.temporary?\"ephemeral\":this.props.preferredStorageType):Object(X.f)(a,this.state.temporary?\"ephemeral\":\"persistent\"),this.props.onDevfile(Object(Y.b)(a),t)}render(){const e=this.props.isLoading;return n.a.createElement(n.a.Fragment,null,n.a.createElement(l.a,{variant:l.b.light},n.a.createElement(p,null),n.a.createElement(F,{persistVolumesDefault:this.state.persistVolumesDefault,onTemporaryStorageChange:e=>this.handleTemporaryStorageChange(e)})),n.a.createElement(i.a,{isLoading:e}),n.a.createElement(l.a,{variant:l.b.default,style:{background:\"#f0f0f0\"}},n.a.createElement($,{onCardClick:(e,t)=>this.handleSampleCardClick(e,t)})))}}const ee=Object(s.c)(e=>({isLoading:Object(K.c)(e),settings:Object(K.g)(e),preferredStorageType:Object(K.e)(e)}));t.default=ee(Z)}}]);","extractedComments":[]}